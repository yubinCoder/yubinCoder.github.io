

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluidicon.png">
  <link rel="icon" href="/img/fluidicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  
    <meta name="description" content="JavaScript笔记（ES6-ES10)1.ES6(2015)let1234let 声明的全局变量不是不是全局对象的属性不可以通过 window.变量名 的方式访问这些变量，而 var 声明的全局变量是 window 的属性，是可以通过 window.变量名 的方式访的。let声明的变量具有块级作用域let变量不会进行变量提升，重定义let变量会抛出错误  Array1234567891011">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript笔记(ES6-ES10)">
<meta property="og:url" content="http://example.com/2022/09/02/JavaScript%E7%AC%94%E8%AE%B0-ES6-ES10/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="JavaScript笔记（ES6-ES10)1.ES6(2015)let1234let 声明的全局变量不是不是全局对象的属性不可以通过 window.变量名 的方式访问这些变量，而 var 声明的全局变量是 window 的属性，是可以通过 window.变量名 的方式访的。let声明的变量具有块级作用域let变量不会进行变量提升，重定义let变量会抛出错误  Array1234567891011">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-09-02T07:01:55.000Z">
<meta property="article:modified_time" content="2022-09-02T08:08:44.863Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="ES6-ES12">
<meta name="twitter:card" content="summary_large_image">
  
  
  
  <title>JavaScript笔记(ES6-ES10) - Hexo</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.2","typing":{"enable":true,"typeSpeed":70,"cursorChar":"-","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.2.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 30vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>yubinCoder</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="JavaScript笔记(ES6-ES10)"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2022-09-02 15:01" pubdate>
          2022年9月2日 下午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          46k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          380 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">JavaScript笔记(ES6-ES10)</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="JavaScript笔记（ES6-ES10"><a href="#JavaScript笔记（ES6-ES10" class="headerlink" title="JavaScript笔记（ES6-ES10)"></a>JavaScript笔记（ES6-ES10)</h1><h2 id="1-ES6-2015"><a href="#1-ES6-2015" class="headerlink" title="1.ES6(2015)"></a>1.ES6(2015)</h2><h3 id="let"><a href="#let" class="headerlink" title="let"></a>let</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">let</span> 声明的全局变量不是不是全局对象的属性<br>不可以通过 <span class="hljs-variable language_">window</span>.变量名 的方式访问这些变量，而 <span class="hljs-keyword">var</span> 声明的全局变量是 <span class="hljs-variable language_">window</span> 的属性，是可以通过 <span class="hljs-variable language_">window</span>.变量名 的方式访的。<br><span class="hljs-keyword">let</span>声明的变量具有块级作用域<br><span class="hljs-keyword">let</span>变量不会进行变量提升，重定义<span class="hljs-keyword">let</span>变量会抛出错误<br></code></pre></td></tr></table></figure>

<h3 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs JS">数组遍历方法：<br>+ <span class="hljs-keyword">for</span>循环<br>+ <span class="hljs-title class_">Arr</span>.<span class="hljs-title function_">forEach</span>(callback):不支持<span class="hljs-keyword">break</span> <span class="hljs-keyword">continue</span><br>+ <span class="hljs-title class_">Arr</span>.<span class="hljs-title function_">every</span>(callback): 循环是否进行取决于返回值，默认返回值为<span class="hljs-literal">false</span>，也就是执行一次，也不直接支持<span class="hljs-keyword">break</span>/<span class="hljs-keyword">continue</span>，可以通过<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>来在<span class="hljs-keyword">if</span>语句中跳过或停止<br>+ <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> obj <span class="hljs-keyword">in</span> object) &#123;....&#125;  遍历对象中的全部元素  数组也是对象的一种 <br> <span class="hljs-comment">//arr=[1,2,3]  arr.a=8,for in 去遍历arr对象的话会得到1 2 3 8</span><br>+ <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> index <span class="hljs-keyword">in</span> <span class="hljs-title class_">Arr</span>) &#123;....&#125;    遍历纯数组的时候  index是个字符串 不是数字型，   对应的值要用<span class="hljs-title class_">Arr</span>[index]获取<br>  index= = = <span class="hljs-number">1</span> 会<span class="hljs-literal">false</span>；index= = <span class="hljs-number">1</span>则<span class="hljs-literal">true</span>；index*<span class="hljs-number">1</span> = = = <span class="hljs-number">5</span><br>+ <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> index <span class="hljs-keyword">of</span> <span class="hljs-title class_">Arr</span>) &#123;....&#125;    <br><br><span class="hljs-comment">//伪数组</span><br>具有索引及对应的值；具有length<br><br><span class="hljs-comment">//伪数组转换为数组</span><br><span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(arrayLike,mapFn,thisArg)<br><span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(&#123;<span class="hljs-attr">length</span>:<span class="hljs-number">5</span>&#125;,<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;rerurn <span class="hljs-number">1</span>&#125;)   <span class="hljs-comment">//初始化并赋值数组[1,1,1,1,1]</span><br><br><span class="hljs-comment">//生成新数组</span><br><span class="hljs-keyword">let</span> arr1=<span class="hljs-title class_">Array</span>（<span class="hljs-number">5</span>）   <span class="hljs-keyword">let</span> arr2[]    <span class="hljs-keyword">let</span> arr3= <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">of</span>(<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">5</span>,<span class="hljs-number">7</span>)<br><br>+ <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">fill</span>(value.<span class="hljs-property">start</span>,end)<br><span class="hljs-keyword">let</span> arr4=<span class="hljs-title class_">Array</span>（<span class="hljs-number">5</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-number">7</span>)    <span class="hljs-comment">//[7,7,7,7,7]</span><br><span class="hljs-keyword">let</span> arr5=arr4.<span class="hljs-title function_">fill</span>(<span class="hljs-number">6</span>,<span class="hljs-number">2</span>,<span class="hljs-number">4</span>)    <span class="hljs-comment">//[7,7,6,6,7]</span><br><span class="hljs-keyword">let</span> array6 = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">of</span>(<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">5</span>,<span class="hljs-number">7</span>,<span class="hljs-number">9</span>)   <span class="hljs-comment">//[1,3,5,7,9]</span><br><br><span class="hljs-comment">//查找数组元素</span><br><span class="hljs-title class_">Array</span>.<span class="hljs-property">filter</span>（ callback ）   返回符合条件的数组元素的一个新数组 对原数组不修改  callback中<span class="hljs-keyword">return</span>为<span class="hljs-literal">true</span>即为符合条件<br><span class="hljs-title class_">Array</span>.<span class="hljs-property">find</span>（ callback ）   返回符合条件的第一个数组元素的值 对原数组不修改  <br><span class="hljs-title class_">Array</span>.<span class="hljs-property">findIndex</span>（ callback ）   返回符合条件的第一个数组元素的索引 对原数组不修改  <br><span class="hljs-title class_">Array</span>.<span class="hljs-property">sort</span>（ callback ）   对数组元素进行排序 对原数字进修修改<br><br></code></pre></td></tr></table></figure>

<h3 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs js">------<span class="hljs-keyword">for</span> <span class="hljs-keyword">in</span><br>    <br><span class="hljs-comment">//for in 循环数组</span><br>    <span class="hljs-keyword">var</span> obj = [<span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">85</span>]<br>		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> key <span class="hljs-keyword">in</span> obj) &#123;<br> 		<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(key); &#125;<span class="hljs-comment">//key的值即为索引值</span><br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj[key]);<span class="hljs-comment">//obj[key]的值为索引对应的内部值</span><br><span class="hljs-comment">//for in   循环对象</span><br><br> <span class="hljs-keyword">var</span> obj = &#123; <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">c</span>: <span class="hljs-number">3</span> &#125;;<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> obj) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(key + <span class="hljs-string">&quot; = &quot;</span> + obj[key]);<br>  &#125;<br><span class="hljs-comment">//输出为a=1;b=2;c=3</span><br><br><span class="hljs-comment">//foreach 循环数组</span><br> <span class="hljs-keyword">let</span> list=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>]<br>list.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">value,index,arr</span>)=&gt;</span>&#123;    <br>    <span class="hljs-comment">//每次循环的每一个元素，当前元素索引，数组本身</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value,index,arr);<br>&#125;)<br><br><span class="hljs-comment">//for of循环</span><br><span class="hljs-keyword">var</span> obj = [<span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">85</span>]<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> value <span class="hljs-keyword">of</span> obj) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value);&#125;<br> <span class="hljs-comment">//输出1,5,2,3,85 </span><br><span class="hljs-comment">//通过这种方式得到的value是值而不是索引值</span><br>注：其实<span class="hljs-keyword">for</span> <span class="hljs-keyword">of</span>它的本质是迭代器，不可以在没有symbol.<span class="hljs-property">iterator</span> 这个属性的对象上使用，比如对象<br></code></pre></td></tr></table></figure>

<h3 id="class"><a href="#class" class="headerlink" title="class"></a>class</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-comment">//-----------------------------------ES5----------------------------------------</span><br><br><span class="hljs-keyword">let</span> <span class="hljs-title class_">Animal</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">type</span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span> = type<br>    &#125;<br>    <span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">walk</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`I am walking`</span>)<br>    &#125;<br>    <span class="hljs-keyword">let</span> dog = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Animal</span>(<span class="hljs-string">&#x27;dog&#x27;</span>)<br>    <span class="hljs-keyword">let</span> monkey = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Animal</span>(<span class="hljs-string">&#x27;monkey&#x27;</span>)<br><br><span class="hljs-comment">//类的方法继承--ES5</span><br><span class="hljs-keyword">let</span> <span class="hljs-title class_">Dog</span>  = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-comment">//初始化父类的构造函数</span><br>    <span class="hljs-title class_">Animal</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>,<span class="hljs-string">&#x27;dog&#x27;</span>)<span class="hljs-comment">//改变this的指针指向为dog的实例对象</span><br>&#125;<br><span class="hljs-title class_">Dog</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span><span class="hljs-comment">//引用类型  这样子可以访问到父类的方法</span><br><br><br><br><span class="hljs-comment">//-----------------------------------ES6----------------------------------------</span><br><br>    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> &#123;<br>        <span class="hljs-title function_">constructor</span> (type) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span> = type<br>        &#125;<br>        walk () &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`I am walking`</span>)<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">let</span> dog = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Animal</span>(<span class="hljs-string">&#x27;dog&#x27;</span>)<br>    <span class="hljs-keyword">let</span> monkey = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Animal</span>(<span class="hljs-string">&#x27;monkey&#x27;</span>)<br><br><br><span class="hljs-comment">//类的方法继承--ES6</span><br>    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Animal</span> &#123;<br>      <span class="hljs-comment">// 显式 需要新增</span><br>      <span class="hljs-title function_">constructor</span> (type) &#123;<br>        <span class="hljs-variable language_">super</span>(type)<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = <span class="hljs-number">2</span><br>      &#125;<br>    <span class="hljs-comment">//隐式即不需要新增</span><br>    <span class="hljs-comment">//默认执行  constructor (type) &#123; super(type)&#125;</span><br>     <br><br><br>属性<br><span class="hljs-comment">//类的实例对象可以访问到类的原型链上的方法</span><br><span class="hljs-comment">//类的静态方法只能通过属性调用</span><br><span class="hljs-comment">//getter  setter</span><br><br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs js">+<span class="hljs-keyword">class</span>类的继承<br>			<span class="hljs-keyword">class</span> <span class="hljs-title class_">Phone</span>&#123;<br>            <span class="hljs-comment">//构造方法</span><br>            <span class="hljs-title function_">constructor</span>(<span class="hljs-params">brand, price</span>)&#123;<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">brand</span> = brand;<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">price</span> = price;<br>            &#125;<br>            <span class="hljs-comment">//父类的成员属性</span><br>            <span class="hljs-title function_">call</span>(<span class="hljs-params"></span>)&#123;<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;我可以打电话!!&quot;</span>);<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">class</span> <span class="hljs-title class_">SmartPhone</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Phone</span> &#123;<br>            <span class="hljs-comment">//构造方法</span><br>            <span class="hljs-title function_">constructor</span>(<span class="hljs-params">brand, price, color, size</span>)&#123;<br>                <span class="hljs-variable language_">super</span>(brand, price);<span class="hljs-comment">// Phone.call(this, brand, price)</span><br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span> = color;<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span> = size;<br>            &#125;<br><br>            <span class="hljs-title function_">photo</span>(<span class="hljs-params"></span>)&#123;<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;拍照&quot;</span>);<br>            &#125;<br><br>            <span class="hljs-title function_">playGame</span>(<span class="hljs-params"></span>)&#123;<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;玩游戏&quot;</span>);<br>            &#125;<br><br>            <span class="hljs-title function_">call</span>(<span class="hljs-params"></span>)&#123;<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;我可以进行视频通话&#x27;</span>);  <span class="hljs-comment">//子类对父类方法的重写</span><br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">const</span> xiaomi = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SmartPhone</span>(<span class="hljs-string">&#x27;小米&#x27;</span>,<span class="hljs-number">799</span>,<span class="hljs-string">&#x27;黑色&#x27;</span>,<span class="hljs-string">&#x27;4.7inch&#x27;</span>);<br>        <span class="hljs-comment">// console.log(xiaomi);</span><br>        xiaomi.<span class="hljs-title function_">call</span>();   <span class="hljs-comment">//&#x27;我可以进行视频通话&#x27;</span><br>        xiaomi.<span class="hljs-title function_">photo</span>();<br>        xiaomi.<span class="hljs-title function_">playGame</span>();<br><br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"> <br><br></code></pre></td></tr></table></figure>



<h3 id="function"><a href="#function" class="headerlink" title="function"></a>function</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs JS">默认值<br><span class="hljs-comment">//---------------ES5--------------</span><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">f</span> (x, y, z) &#123;<br>    <span class="hljs-keyword">if</span> (y === <span class="hljs-literal">undefined</span>)<br>    y = <span class="hljs-number">7</span>;<br>    <span class="hljs-keyword">if</span> (z === <span class="hljs-literal">undefined</span>)<br>    z = <span class="hljs-number">42</span>;<br>    <span class="hljs-keyword">return</span> x + y + z;<br>    &#125;;<br>    <span class="hljs-title function_">f</span>(<span class="hljs-number">1</span>) === <span class="hljs-number">50</span>;<br><span class="hljs-comment">//---------------ES5</span><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">f</span> (x, y = <span class="hljs-number">7</span>, z = <span class="hljs-number">42</span>) &#123;<br>    <span class="hljs-keyword">return</span> x + y + z<br>    &#125;<br>    <span class="hljs-title function_">f</span>(<span class="hljs-number">1</span>) === <span class="hljs-number">50</span><br><span class="hljs-comment">//如果不想使用默认值，可以使用undefined</span><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">f</span> (x, y = <span class="hljs-number">7</span>, z = <span class="hljs-number">42</span>) &#123;<br>    <span class="hljs-keyword">return</span> x + y + z<br>    &#125;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">f</span>(<span class="hljs-number">1</span>, <span class="hljs-literal">undefined</span>, <span class="hljs-number">43</span>))<span class="hljs-comment">// 51</span><br><br><br>+ <span class="hljs-variable language_">arguments</span><br><span class="hljs-comment">//在函数体内，有时候需要判断函数有几个参数，一共有2个办法。在 ES5 中可以在函数体内使用 arguments 来判断。</span><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">test</span> (a, b = <span class="hljs-number">1</span>, c) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">arguments</span>.<span class="hljs-property">length</span>)<br>    &#125;<br>    <span class="hljs-title function_">test</span>(<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>)<span class="hljs-comment">//2</span><br><br><span class="hljs-comment">// 然而在 ES6 中不能再使用 arguments 来判断了，但可以借助 Function.length 来判断。</span><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">test</span> (a, b = <span class="hljs-number">1</span>, c) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(test.<span class="hljs-property">length</span>)<br>    &#125;<br>    <span class="hljs-title function_">test</span>(<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>)<span class="hljs-comment">// 1</span><br><br><span class="hljs-title class_">Function</span>.<span class="hljs-property">length</span> 结果和 <span class="hljs-variable language_">arguments</span> 的结果不同！没错，<span class="hljs-title class_">Function</span>.<span class="hljs-property">length</span> 是统计第一个默认参数前面的变量数：<br><br><br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs js">不确定参数的方法 <br><br>+ <span class="hljs-title class_">Rest</span> parameter<br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">sum</span> (base, ...nums) &#123;    <span class="hljs-comment">//也可以只写...nums 视开发需求而定</span><br>      <span class="hljs-keyword">let</span> num = <span class="hljs-number">0</span><br>      nums.<span class="hljs-title function_">forEach</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) &#123;<br>        num += item * <span class="hljs-number">1</span><br>      &#125;)<br>      <span class="hljs-keyword">return</span> base * <span class="hljs-number">2</span> + num<br>    &#125;<br><br>+spread<br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">sum</span> (x = <span class="hljs-number">1</span>, y = <span class="hljs-number">2</span>, z = <span class="hljs-number">3</span>) &#123;<br>      <span class="hljs-keyword">return</span> x + y + z<br>    &#125;<br>    <span class="hljs-keyword">let</span> data = [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">9</span>]<br>    <span class="hljs-comment">// console.log(sum(data[0], data[1], data[2]))</span><br>    <span class="hljs-comment">// console.log(sum.apply(this, data))</span><br>    <span class="hljs-title function_">sum</span>(...data)<br></code></pre></td></tr></table></figure>

<h3 id="object"><a href="#object" class="headerlink" title="object"></a>object</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><code class="hljs JS">在 <span class="hljs-title class_">ES6</span> 之前 <span class="hljs-title class_">Object</span> 的 key 在定义时必须是字符串，<br>如果想增加“动态”的 key，必须是先计算出 key，<br>利用 object[key] = value 的方式来修改；<br>在 <span class="hljs-title class_">ES6</span> 之后可以直接用变量或者表达式来定义 key。<br>    <span class="hljs-keyword">let</span> obj = &#123;<br>    <span class="hljs-attr">foo</span>: <span class="hljs-string">&#x27;bar&#x27;</span>,<br>    [<span class="hljs-string">&#x27;baz&#x27;</span>+ <span class="hljs-title function_">quux</span>()]: <span class="hljs-number">42</span>   <span class="hljs-comment">//obj[&#x27;baz&#x27; + quux()] = 42</span><br>    &#125;<br>    <br>从 <span class="hljs-title class_">ES6</span> 开始对象内的方法可以简写，包括常规函数和异步函数。<br><span class="hljs-comment">//ES5 时代 Object 的属性只支持常规函数，对于异步函数是不支持的</span><br><br>+ 属性<br>   <span class="hljs-title class_">Object</span>.<span class="hljs-property">length</span>值为<span class="hljs-number">1</span>。<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>可以为所有 <span class="hljs-title class_">Object</span> 类型的对象添加属性。<br>+ 方法<br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(target, ...sources)<br><span class="hljs-comment">//通过复制一个或多个对象来创建一个新的对象。</span><br><span class="hljs-comment">//如果目标对象与源对象具有相同的 key，则目标对象中的属性将被源对象中的属性覆盖，后面的源对象的属性将类似地覆盖前面的源对象的属性。</span><br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(proto，<span class="hljs-title function_">propertiesObject</span>(可选))<br><span class="hljs-comment">//使用指定的原型对象和属性创建一个新对象。</span><br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(obj, prop, descriptor)<br><span class="hljs-comment">//给对象添加一个属性并指定该属性的配置。</span><br><span class="hljs-comment">//descriptor 要定义或修改的属性描述符。</span><br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperties</span>(obj, props)<br><span class="hljs-comment">// 给对象添加多个属性并分别指定它们的配置。</span><br><span class="hljs-comment">//对象中存在的属性描述符主要有两种：数据描述符和访问器描述符</span><br>        <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperties</span>(obj, &#123;<br>          <span class="hljs-string">&#x27;property1&#x27;</span>: &#123;<br>            <span class="hljs-attr">value</span>: <span class="hljs-literal">true</span>,<br>            <span class="hljs-attr">writable</span>: <span class="hljs-literal">true</span><br>          &#125;,<br>          <span class="hljs-string">&#x27;property2&#x27;</span>: &#123;<br>            <span class="hljs-attr">value</span>: <span class="hljs-string">&#x27;Hello&#x27;</span>,<br>            <span class="hljs-attr">writable</span>: <span class="hljs-literal">false</span><br>          &#125;<br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(obj)<br><span class="hljs-comment">//返回给定对象自身可枚举属性的[key, value]数组。//一级属性</span><br><span class="hljs-comment">//new Map() 构造函数接受一个可迭代的entries。</span><br><span class="hljs-comment">//借助Object.entries方法你可以很容易的将Object转换为Map:</span><br>    <span class="hljs-keyword">var</span> obj = &#123; <span class="hljs-attr">foo</span>: <span class="hljs-string">&quot;bar&quot;</span>, <span class="hljs-attr">baz</span>: <span class="hljs-number">42</span> &#125;;<br>    <span class="hljs-keyword">var</span> map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(obj));<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(map); <span class="hljs-comment">// Map &#123; foo: &quot;bar&quot;, baz: 42 &#125;</span><br><br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">fromEntries</span>(iterable)<br><span class="hljs-comment">// 把键值对列表转换为一个对象。</span><br><span class="hljs-comment">//iterable  类似 Array 、 Map 或者其它实现了可迭代协议的可迭代对象。</span><br>    <span class="hljs-comment">//Map 转化为 Object</span><br>        <span class="hljs-keyword">const</span> map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>([ [<span class="hljs-string">&#x27;foo&#x27;</span>, <span class="hljs-string">&#x27;bar&#x27;</span>], [<span class="hljs-string">&#x27;baz&#x27;</span>, <span class="hljs-number">42</span>] ]);<br>        <span class="hljs-keyword">const</span> obj = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">fromEntries</span>(map);<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj); <span class="hljs-comment">// &#123; foo: &quot;bar&quot;, baz: 42 &#125;</span><br>    <span class="hljs-comment">//Array 转化为 Object</span><br>        <span class="hljs-keyword">const</span> arr = [ [<span class="hljs-string">&#x27;0&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>], [<span class="hljs-string">&#x27;1&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>], [<span class="hljs-string">&#x27;2&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>] ];<br>        <span class="hljs-keyword">const</span> obj = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">fromEntries</span>(arr);<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj); <span class="hljs-comment">// &#123; 0: &quot;a&quot;, 1: &quot;b&quot;, 2: &quot;c&quot; &#125; </span><br><br><br><br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">freeze</span>(obj)<br><span class="hljs-comment">//冻结对象：其他代码不能删除或更改任何属性。</span><br><br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getOwnPropertyDescriptor</span>(obj, prop)<br><span class="hljs-comment">//返回对象指定的属性配置。如果指定的属性存在于对象上，则返回其属性描述符对象（property descriptor），否则返回 undefined。</span><br><span class="hljs-comment">//属性配置  value/writeable/get/set/configurable</span><br><span class="hljs-comment">//Object.getOwnPropertyDescriptors(obj) 方法用来获取一个对象的所有自身属性的描述符。</span><br><br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getOwnPropertyNames</span>(obj)<br><span class="hljs-comment">//返回一个数组，它包含了指定对象所有的可枚举或不可枚举的属性名。</span><br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getOwnPropertySymbols</span>(obj)<br><span class="hljs-comment">//返回一个数组，它包含了指定对象自身所有的符号属性。</span><br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(object)<br><span class="hljs-comment">//返回指定对象的原型对象。</span><br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">is</span>()比较两个值是否相同。所有 <span class="hljs-title class_">NaN</span> 值都相等（这与==和===不同）。<br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">isExtensible</span>()判断对象是否可扩展。<br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">isFrozen</span>()判断对象是否已经冻结。<br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">isSealed</span>()判断对象是否已经密封。<br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>()返回一个包含所有给定对象自身可枚举属性名称的数组。<br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">preventExtensions</span>()防止对象的任何扩展。<br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">seal</span>()防止其他代码删除对象的属性。<br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">setPrototypeOf</span>()设置对象的原型（即内部[[<span class="hljs-title class_">Prototype</span>]]属性）。<br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">values</span>()返回给定对象自身可枚举值的数组。<br><br><br>+descriptor<br><span class="hljs-attr">configurable</span>:<span class="hljs-literal">false</span><br><span class="hljs-comment">//true 只有该属性描述符的类型可以被改变并且该属性可以从对应对象中删除。 默认为 false</span><br><span class="hljs-attr">enumerable</span>:<span class="hljs-literal">false</span><br><span class="hljs-comment">//true 只有在枚举相应对象上的属性时该属性显现。 默认为 false</span><br><span class="hljs-attr">value</span>:<span class="hljs-literal">undefined</span><br><span class="hljs-comment">//与属性关联的值。可以是任何有效的 JavaScript 值（数字，对象，函数等）。 默认为 undefined.</span><br><span class="hljs-attr">writable</span>:<span class="hljs-literal">false</span><br><span class="hljs-comment">//true只有与该属性相关联的值被assignment operator (en-US)改变时。 默认为 false</span><br><span class="hljs-attr">get</span>:<span class="hljs-literal">undefined</span><br><span class="hljs-comment">//作为该属性的 getter 函数，如果没有 getter 则为undefined。函数返回值将被用作属性的值。 默认为 undefined</span><br><span class="hljs-attr">set</span>:<span class="hljs-literal">undefined</span><br><span class="hljs-comment">//作为属性的 setter 函数，如果没有 setter 则为undefined。函数将仅接受参数赋值给该属性的新值。 默认为 undefined</span><br></code></pre></td></tr></table></figure>

<h3 id="set"><a href="#set" class="headerlink" title="set"></a>set</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs JS">在 <span class="hljs-title class_">JavaScript</span> 里通常使用 <span class="hljs-title class_">Array</span> 或 <span class="hljs-title class_">Object</span> 来存储数据。<br>但是在频繁操作数据的过程中查找或者统计并需要手动来实现，并不能简单的直接使用。<br>比如如何保证 <span class="hljs-title class_">Array</span> 是去重的，如何统计 <span class="hljs-title class_">Object</span> 的数据总数等，必须自己去手动实现类似的需求，不是很方便。<br>在 <span class="hljs-title class_">ES6</span> 中为了解决上述痛点，新增了数据结构 <span class="hljs-title class_">Set</span> 和 <span class="hljs-title class_">Map</span>，它们分别对应传统数据结构的“集合”和“字典”。<br><br><span class="hljs-title class_">Set</span> 对象允许你存储任何类型的唯一值，无论是原始值或者是对象引用。<br><span class="hljs-title class_">Set</span>对象是值的集合，你可以按照插入的顺序迭代它的元素。<span class="hljs-title class_">Set</span> 中的元素只会出现一次，即 <span class="hljs-title class_">Set</span> 中的元素是唯一的。<br><br><span class="hljs-keyword">let</span> s = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>（）    <span class="hljs-comment">//set对象属于可遍历对象  有索引跟值就可以  数组跟对象属于常规的可遍历对象</span><br> s.<span class="hljs-property">size</span>     <span class="hljs-comment">//set内部数据的 长度</span><br> s.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>   <span class="hljs-comment">//属性表示Set构造函数的原型对象。包含 Writable/Enumerabl/Configurable</span><br> s.<span class="hljs-property">add</span>（<span class="hljs-string">&quot;qwe&quot;</span>）.<span class="hljs-property">add</span>（<span class="hljs-string">&quot;sda&quot;</span>）.<span class="hljs-property">add</span>（<span class="hljs-string">&quot;qwe&quot;</span>）   <span class="hljs-comment">//set会默认过滤掉重复数据</span><br> s.<span class="hljs-property">delete</span>（<span class="hljs-string">&quot;qwe&quot;</span>）  <span class="hljs-comment">//查找并删除</span><br> s.<span class="hljs-property">clear</span>（）  <span class="hljs-comment">//清空set</span><br> s.<span class="hljs-property">has</span>（<span class="hljs-string">&quot;sda&quot;</span>）  <span class="hljs-comment">//查找是否存在该属性 返回布尔值</span><br> s.<span class="hljs-property">keys</span>（）<br> s.<span class="hljs-property">values</span>（）<br> s.<span class="hljs-property">entries</span>（）  <span class="hljs-comment">//返回一个新的Iterator对象，包含[value, value]给定的每个元素的数组Set，按照插入顺序。</span><br><br>+创建set<br>	<span class="hljs-keyword">let</span> mySet = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();<br>    mySet.<span class="hljs-title function_">add</span>(<span class="hljs-number">1</span>); <span class="hljs-comment">// Set [ 1 ]</span><br>    mySet.<span class="hljs-title function_">add</span>(<span class="hljs-number">5</span>); <span class="hljs-comment">// Set [ 1, 5 ]</span><br>    mySet.<span class="hljs-title function_">add</span>(<span class="hljs-number">5</span>); <span class="hljs-comment">// Set [ 1, 5 ]</span><br>    mySet.<span class="hljs-title function_">add</span>(<span class="hljs-string">&quot;some text&quot;</span>); <span class="hljs-comment">// Set [ 1, 5, &quot;some text&quot; ]</span><br>+迭代set<br>	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> [key, value] <span class="hljs-keyword">of</span> mySet.<span class="hljs-title function_">entries</span>()) <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(key);<br>	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> item <span class="hljs-keyword">of</span> mySet.<span class="hljs-title function_">keys</span>()) <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(item);<br>+<span class="hljs-title class_">Array</span> 相关<br>    <span class="hljs-keyword">let</span> myArray = [<span class="hljs-string">&quot;value1&quot;</span>, <span class="hljs-string">&quot;value2&quot;</span>, <span class="hljs-string">&quot;value3&quot;</span>];<br>    <span class="hljs-comment">// 用 Set 构造器将 Array 转换为 Set</span><br>    <span class="hljs-keyword">let</span> mySet = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(myArray);<br>    mySet.<span class="hljs-title function_">has</span>(<span class="hljs-string">&quot;value1&quot;</span>); <span class="hljs-comment">// returns true</span><br>    <span class="hljs-comment">// 用...(展开操作符) 操作符将 Set 转换为 Array</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>([...mySet]); <span class="hljs-comment">// 与 myArray 完全一致</span><br>+数组去重<br>    <span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">4</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">5</span>,<span class="hljs-number">32</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>]<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>([...<span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(numbers)])<br>    <span class="hljs-comment">// [2, 3, 4, 5, 6, 7, 32]</span><br>+<span class="hljs-title class_">String</span> 相关<br>    <span class="hljs-keyword">let</span> text = <span class="hljs-string">&#x27;India&#x27;</span>;<br>    <span class="hljs-keyword">let</span> mySet = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(text);  <span class="hljs-comment">// Set &#123;&#x27;I&#x27;, &#x27;n&#x27;, &#x27;d&#x27;, &#x27;i&#x27;, &#x27;a&#x27;&#125;</span><br>    mySet.<span class="hljs-property">size</span>;  <span class="hljs-comment">// 5</span><br>    <span class="hljs-comment">// 大小写敏感 &amp; duplicate ommision</span><br>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(<span class="hljs-string">&quot;Firefox&quot;</span>)  <span class="hljs-comment">// Set(7) [ &quot;F&quot;, &quot;i&quot;, &quot;r&quot;, &quot;e&quot;, &quot;f&quot;, &quot;o&quot;, &quot;x&quot; ]</span><br>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(<span class="hljs-string">&quot;firefox&quot;</span>)  <span class="hljs-comment">// Set(6) [ &quot;f&quot;, &quot;i&quot;, &quot;r&quot;, &quot;e&quot;, &quot;o&quot;, &quot;x&quot; ]</span><br> <br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">4</span>,<span class="hljs-number">3</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>];<br><span class="hljs-comment">//1. 数组去重</span><br><span class="hljs-comment">// let result = [...new Set(arr)];</span><br><span class="hljs-comment">// console.log(result);</span><br><span class="hljs-comment">//2. 交集</span><br><span class="hljs-keyword">let</span> arr2 = [<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>];<br><span class="hljs-comment">// let result = [...new Set(arr)].filter(item =&gt; &#123;</span><br><span class="hljs-comment">//     let s2 = new Set(arr2);// 4 5 6</span><br><span class="hljs-comment">//     if(s2.has(item))&#123;</span><br><span class="hljs-comment">//         return true;</span><br><span class="hljs-comment">//     &#125;else&#123;</span><br><span class="hljs-comment">//         return false;</span><br><span class="hljs-comment">//     &#125;</span><br><span class="hljs-comment">// &#125;);</span><br><span class="hljs-comment">// let result = [...new Set(arr)].filter(item =&gt; new Set(arr2).has(item));</span><br><span class="hljs-comment">// console.log(result);</span><br><br><span class="hljs-comment">//3. 并集</span><br><span class="hljs-comment">// let union = [...new Set([...arr, ...arr2])];</span><br><span class="hljs-comment">// console.log(union);</span><br><br><span class="hljs-comment">//4. 差集</span><br><span class="hljs-keyword">let</span> diff = [...<span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(arr)].<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> !(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(arr2).<span class="hljs-title function_">has</span>(item)));<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(diff);<br><br></code></pre></td></tr></table></figure>



<h3 id="map"><a href="#map" class="headerlink" title="map"></a>map</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs JS">对象保存键值对。任何值(对象或者原始值) 都可以作为一个键或一个值。<br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>([iterable])<br><span class="hljs-title class_">Iterable</span> 可以是一个数组或者其他 iterable 对象，其元素或为键值对，或为两个元素的数组。 每个键值对都会添加到新的 <span class="hljs-title class_">Map</span>。<span class="hljs-literal">null</span>会被当做 <span class="hljs-literal">undefined</span>。<br>一个<span class="hljs-title class_">Map</span>对象以插入顺序迭代其元素 — 一个  <br><span class="hljs-keyword">for</span>...<span class="hljs-keyword">of</span> 循环为每次迭代返回一个[key，value]数组。<br>应该注意的是,<span class="hljs-title class_">Map</span>是一个对象的映射，将只映射到对象的插入顺序 - 这是随机的，而不是依照次序的。<br><br>map.<span class="hljs-property">size</span>    <span class="hljs-comment">//size 可访问属性返回 Map对象的元素数量.</span><br>map.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>   <span class="hljs-comment">//属性表示Map构造函数的原型对象。包含 Writable/Enumerabl/Configurable</span><br><br>map.<span class="hljs-title function_">clear</span>()  <span class="hljs-comment">//clear()方法会移除Map对象中的所有元素。</span><br>map.<span class="hljs-title function_">delete</span>()  <span class="hljs-comment">//delete()方法用于移除Map对象中指定的元素。</span><br><br><br>map.<span class="hljs-title function_">set</span>()  <span class="hljs-comment">//set() 方法为Map对象添加一个指定键（key）和值（value）的新元素。</span><br>map.<span class="hljs-title function_">get</span>()  <span class="hljs-comment">//get() 方法用来获取一个 Map?对象中指定的元素。</span><br>map.<span class="hljs-title function_">delete</span>() <span class="hljs-comment">//has() 返回一个bool值，用来表明map 中是否存在指定元素.</span><br><br>map.<span class="hljs-title function_">keys</span>()  <span class="hljs-comment">//keys()返回一个新的 Iterator对象。它包含按照顺序插入Map对象中每个元素的key值。</span><br>map.<span class="hljs-property">values</span>  <span class="hljs-comment">//values() 方法返回一个新的Iterator对象。它包含按顺序插入Map对象中每个元素的value值。</span><br>map.<span class="hljs-title function_">entries</span>()  <span class="hljs-comment">//entries()方法返回一个新的包含 [key, value]的 Iterator对象，返回的迭代器的迭代顺序与 Map对象的插入顺序相同。</span><br><br>map.<span class="hljs-title function_">forEach</span>(callback[,thisArg])  <span class="hljs-comment">//forEach 方法将对Map中真实存在的每一个元素执行一次?参数中提供的回调函数，它不会对任何已经被删除的元素执行调用。然而，它还会对键存在而值为 undefined 的元素执行调用。</span><br><br><br><span class="hljs-keyword">let</span> map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>()<br>map.<span class="hljs-title function_">set</span>(<span class="hljs-number">10</span>, <span class="hljs-number">2</span>)<br>map.<span class="hljs-title function_">set</span>(<span class="hljs-number">3</span>, <span class="hljs-string">&#x27;value-4&#x27;</span>)<br>map.<span class="hljs-title function_">set</span>(<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;value-3&#x27;</span>)<br>map.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">value, key</span>) =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value, key)<br>&#125;)  <span class="hljs-comment">//输入 2  10； value-4 3；value-3 1</span><br><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> [key, value] <span class="hljs-keyword">of</span> map) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(key, value)<br>&#125;  <span class="hljs-comment">//输出  10 2 ；3 value-4；1 value-3</span><br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs js">使用 <span class="hljs-keyword">for</span>..<span class="hljs-property">of</span> 方法迭代 <span class="hljs-title class_">Map</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> [key, value] <span class="hljs-keyword">of</span> myMap) &#123;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(key + <span class="hljs-string">&#x27; = &#x27;</span> + value)<br>    &#125;<br>使用 <span class="hljs-title function_">forEach</span>() 方法迭代 <span class="hljs-title class_">Map</span><br>	myMap.<span class="hljs-title function_">forEach</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">value, key</span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(key + <span class="hljs-string">&#x27; = &#x27;</span> + value)<br>&#125;)<br><span class="hljs-title class_">Map</span>与数组的关系<br>    <span class="hljs-keyword">const</span> kvArray = [[<span class="hljs-string">&quot;key1&quot;</span>, <span class="hljs-string">&quot;value1&quot;</span>], [<span class="hljs-string">&quot;key2&quot;</span>, <span class="hljs-string">&quot;value2&quot;</span>]];<br>    <span class="hljs-comment">// 使用常规的 Map 构造函数可以将一个二维键值对数组转换成一个 Map 对象</span><br>    <span class="hljs-keyword">const</span> myMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>(kvArray);<br>    myMap.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;key1&quot;</span>); <span class="hljs-comment">// 返回值为 &quot;value1&quot;</span><br>    <span class="hljs-comment">// 使用 Array.from 函数可以将一个 Map 对象转换成一个二维键值对数组</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(myMap)); <span class="hljs-comment">// 输出和 kvArray 相同的数组</span><br>    <span class="hljs-comment">// 更简洁的方法来做如上同样的事情，使用展开运算符</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>([...myMap]);<br>    <span class="hljs-comment">// 或者在键或者值的迭代器上使用 Array.from，进而得到只含有键或者值的数组</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(myMap.<span class="hljs-title function_">keys</span>())); <span class="hljs-comment">// 输出 [&quot;key1&quot;, &quot;key2&quot;]</span><br></code></pre></td></tr></table></figure>

<h3 id="Template-literals"><a href="#Template-literals" class="headerlink" title="Template literals"></a>Template literals</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs JS">模板字面量/<span class="hljs-title class_">Template</span> literals 是允许嵌入表达式的字符串字面量。<br>模板字符串使用反引号 (<span class="hljs-string">` `</span>) 来代替普通字符串中的用双引号和单引号。<br>模板字符串可以包含特定语法($&#123;expression&#125;)的占位符。<br>占位符中的表达式和周围的文本会一起传递给一个默认函数，该函数负责将所有的部分连接起来，如果一个模板字符串由表达式开头，则该字符串被称为带标签的模板字符串，该表达式通常是一个函数，它会在模板字符串处理后被调用，在输出最终结果前，你都可以通过该函数来对模板字符串进行操作处理。<br>模板字面量支持多行<br><span class="hljs-comment">//在模版字符串内使用反引号（`）时，需要在它前面加转义符（\）。</span><br><span class="hljs-string">`\``</span> === <span class="hljs-string">&#x27;`&#x27;</span>   <span class="hljs-comment">// --&gt; true</span><br>    <span class="hljs-keyword">var</span> a = <span class="hljs-number">5</span>;<br>    <span class="hljs-keyword">var</span> b = <span class="hljs-number">10</span>;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Fifteen is <span class="hljs-subst">$&#123;a + b&#125;</span> and</span><br><span class="hljs-string">    not <span class="hljs-subst">$&#123;<span class="hljs-number">2</span> * a + b&#125;</span>.`</span>);<br>    <span class="hljs-comment">// &quot;Fifteen is 15 and</span><br>    <span class="hljs-comment">// not 20.&quot;</span><br><br>原始字符串<br>raw标记模板文字的第一个函数参数上的特殊属性允许您在输入时访问原始字符串，而不处理转义序列。<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">tag</span>(<span class="hljs-params">strings, ...values</span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(strings.<span class="hljs-property">raw</span>[<span class="hljs-number">0</span>]);<br>&#125;<br><br>tag<span class="hljs-string">`string text line 1 \n string text line 2`</span>;<br><span class="hljs-comment">// logs &quot;string text line 1 \n string text line 2&quot; ,</span><br><span class="hljs-comment">// including the two characters &#x27;\&#x27; and &#x27;n&#x27;</span><br><br>此外，该<span class="hljs-title class_">String</span>.<span class="hljs-title function_">raw</span>()方法存在创建原始字符串就像默认的模板函数和字符串连接会创建。<br><span class="hljs-keyword">var</span> str = <span class="hljs-title class_">String</span>.<span class="hljs-property">raw</span><span class="hljs-string">`Hi\n<span class="hljs-subst">$&#123;<span class="hljs-number">2</span>+<span class="hljs-number">3</span>&#125;</span>!`</span>;<br><span class="hljs-comment">// &quot;Hi\n5!&quot;</span><br><br>str.<span class="hljs-property">length</span>;<br><span class="hljs-comment">// 6</span><br><br>str.<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27;&#x27;</span>).<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27;,&#x27;</span>);<br><span class="hljs-comment">// &quot;H,i,\,n,5,!&quot;</span><br></code></pre></td></tr></table></figure>

<h3 id="Desctructuring"><a href="#Desctructuring" class="headerlink" title="Desctructuring"></a>Desctructuring</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-title class_">ES6</span> 允许按照一定模式，从数组和对象中提取值，对变量进行赋值，这被称为解构。<br>可以从数组中提取值，按照对应位置，对变量赋值。<br>本质上属于“模式匹配”，只要等号两边的模式相同，左边的变量就会被赋予对应的值。<br><br>+对象解构<br>es6 解构对象是 变量名必须和属性名相同 但是顺序没有要求。<br>    <span class="hljs-keyword">let</span> obj = &#123;<br>        <span class="hljs-attr">names</span>:<span class="hljs-string">&#x27;张三&#x27;</span>,<br>        age : <span class="hljs-number">18</span>,<br>        sex : <span class="hljs-string">&#x27;女&#x27;</span>,<br>        data :[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>],<br>        say : <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;你好我是张三&#x27;</span>);<br>        &#125;<br>    &#125;<br>    <span class="hljs-comment">// es5 : </span><br>    <span class="hljs-comment">// var name = obj.name;</span><br>    <span class="hljs-comment">// var age = obj.age;</span><br><br>    <span class="hljs-comment">// 1. 解构对象中的变量</span><br>    <span class="hljs-keyword">let</span> &#123;names,age,say&#125; = obj;   <br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(names,age);<br>    <span class="hljs-comment">// 2. 解构对象中的方法   </span><br>    <span class="hljs-title function_">say</span>();    <br>    <span class="hljs-comment">// 3.结构对象中的数组</span><br>   <span class="hljs-keyword">let</span> &#123;<span class="hljs-attr">data</span>:[a,b,c,d]&#125; = obj;   <br><br>解构字符串时 会将字符串当做一个数组 来取解构<br><br>通过字面量合并对象<br><span class="hljs-attr">obj1</span>:&#123;<span class="hljs-attr">key1</span>:<span class="hljs-number">1</span>, <span class="hljs-attr">key2</span>:<span class="hljs-number">2</span>,<span class="hljs-attr">key3</span>:<span class="hljs-number">3</span>&#125;,<br><span class="hljs-attr">obj2</span>:&#123;<span class="hljs-attr">key2</span>:<span class="hljs-number">22</span>,<span class="hljs-attr">key4</span>:<span class="hljs-number">44</span> &#125;,      <br>obj3=&#123;...obj1,...obj2&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj3)<span class="hljs-comment">//输出 &#123;key1:1, key2:22,key3:3,key4:44 &#125;, </span><br><br></code></pre></td></tr></table></figure>



<h3 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs JS">+ 概述<br>是异步编程的一种解决方案。从语法上说，<span class="hljs-title class_">Promise</span> 是一个对象，从它可以获取异步操作的消息。<br><br>+<span class="hljs-title class_">Promise</span> 状态<br><span class="hljs-title class_">Promise</span> 异步操作有三种状态：pending（进行中）、fulfilled（已成功）和 rejected（已失败）。除了异步操作的结果，任何其他操作都无法改变这个状态。<br><span class="hljs-title class_">Promise</span> 对象只有：从 pending 变为 fulfilled 和从 pending 变为 rejected 的状态改变。只要处于 fulfilled 和 rejected ，状态就不会再变了即 resolved（已定型）<br><br><br>+创建<span class="hljs-title class_">Promise</span>对象<br><span class="hljs-keyword">var</span> promise = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">resolve, reject</span>) &#123;<br>    <span class="hljs-comment">// 异步处理</span><br>    <span class="hljs-comment">// 处理结束后、调用resolve 或 reject</span><br>    <span class="hljs-comment">//resolve是必须的，reject可以省略</span><br>&#125;);<br><br><br><span class="hljs-keyword">var</span> myFirstPromise = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">resolve, reject</span>)&#123;<br>    <span class="hljs-comment">//当异步代码执行成功时，才会调用resolve(...), 当异步代码失败时就会调用reject(...)</span><br>    <span class="hljs-comment">//在本例中，使用setTimeout(...)来模拟异步代码，实际编码时可能是XHR请求或是HTML5的一些API方法.</span><br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-title function_">resolve</span>(<span class="hljs-string">&quot;成功!&quot;</span>); <span class="hljs-comment">//代码正常执行！</span><br>    &#125;, <span class="hljs-number">250</span>);<br>&#125;);<br> <br>myFirstPromise.<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">successMessage</span>)&#123;<br>    <span class="hljs-comment">//successMessage的值是上面调用resolve(...)方法传入的值.</span><br>    <span class="hljs-comment">//successMessage参数不一定非要是字符串类型，这里只是举个例子</span><br>    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">write</span>(<span class="hljs-string">&quot;Yay! &quot;</span> + successMessage);<br>&#125;);<br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs js">+<span class="hljs-title class_">Promise</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">then</span>  方法<br>+<span class="hljs-title class_">Promise</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">catch</span>  方法<br>then 方法接收两个函数作为参数，第一个参数是 <span class="hljs-title class_">Promise</span> 执行成功时的回调，第二个参数是 <span class="hljs-title class_">Promise</span> 执行失败时的回调，两个函数只会有一个被调用。通过 .<span class="hljs-property">then</span> 形式添加的回调函数，不论什么时候，都会被调用。<br>    promise.<span class="hljs-title function_">then</span>(onFulfilled, onRejected)<br><span class="hljs-comment">//promise简化了对error的处理，上面的代码我们也可以这样写：</span><br>    promise.<span class="hljs-title function_">then</span>(onFulfilled).<span class="hljs-title function_">catch</span>(onRejected)<br><br>    <span class="hljs-keyword">const</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">resolve,reject</span>)&#123;<br>      <span class="hljs-title function_">resolve</span>(<span class="hljs-string">&#x27;success&#x27;</span>);<br>    &#125;);<br><br>    p.<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>)&#123;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value);<br>    &#125;);<br><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;first&#x27;</span>);<br>    <span class="hljs-comment">// first</span><br>    <span class="hljs-comment">// success</span><br><br>    <span class="hljs-keyword">const</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">resolve,reject</span>)&#123;<br>      <span class="hljs-title function_">resolve</span>(<span class="hljs-number">1</span>);<br>    &#125;).<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>)&#123; <span class="hljs-comment">// 第一个then // 1</span><br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value);<br>      <span class="hljs-keyword">return</span> value * <span class="hljs-number">2</span>;<br>    &#125;).<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>)&#123; <span class="hljs-comment">// 第二个then // 2</span><br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value);    <span class="hljs-comment">//第二个then  返回值是undefined</span><br>    &#125;).<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>)&#123; <span class="hljs-comment">// 第三个then // undefined</span><br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value);<br>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-string">&#x27;resolve&#x27;</span>); <span class="hljs-comment">// 第三个then返回值是resolve</span><br>    &#125;).<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>)&#123; <span class="hljs-comment">// 第四个then // resolve</span><br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value);<br>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-string">&#x27;reject&#x27;</span>); <br>    &#125;).<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>)&#123; <span class="hljs-comment">// 第五个then //reject:reject</span><br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;resolve:&#x27;</span> + value);<br>    &#125;, <span class="hljs-keyword">function</span>(<span class="hljs-params">err</span>) &#123;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;reject:&#x27;</span> + err);<br>    &#125;).<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(error));<br><br><br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">loadScript</span> (src) &#123;<br>  <span class="hljs-comment">// pending,undefined</span><br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">let</span> script = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;script&#x27;</span>)<br>    script.<span class="hljs-property">src</span> = src<br>    script.<span class="hljs-property">onload</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(src)<span class="hljs-comment">// fulfilled,result</span><br>    script.<span class="hljs-property">onerror</span> = <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> <span class="hljs-title function_">reject</span>(err)<span class="hljs-comment">// rejected,error</span><br>    <span class="hljs-variable language_">document</span>.<span class="hljs-property">head</span>.<span class="hljs-title function_">append</span>(script)<br>  &#125;)<br>&#125;<br><br>+正常写法<span class="hljs-comment">//1.js和3.js均可以正常加载 4.js加载失败</span><br>    <span class="hljs-title function_">loadScript</span>(<span class="hljs-string">&#x27;./1.js&#x27;</span>)   <br>    <span class="hljs-comment">//正常执行 resolve(./1.js) 状态为 fulfilled</span><br>      .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-title function_">loadScript</span>(<span class="hljs-string">&#x27;./4.js&#x27;</span>)<br>        <span class="hljs-comment">//上一状态为 fulfilled  resolve的value为(./1.js)  </span><br>        <span class="hljs-comment">//return返回一个新的promise实例  </span><br>        <span class="hljs-comment">// loadScript(&#x27;./4.js&#x27;)无法执行  promise实例状态为rejected</span><br>      &#125;)<br>      .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-title function_">loadScript</span>(<span class="hljs-string">&#x27;./3.js&#x27;</span>)<br>        <span class="hljs-comment">//状态为rejected 无法修改 不执行这个then</span><br>      &#125;)<br>      .<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(err)<br>      &#125;)<br>      <span class="hljs-comment">// throw new Error</span><br>+对比分析<br>    <span class="hljs-title function_">loadScript</span>(<span class="hljs-string">&#x27;./1.js&#x27;</span>)<br>    <span class="hljs-comment">//正常执行 resolve(./1.js) 状态为 fulfilled</span><br>      .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>         <span class="hljs-title function_">loadScript</span>(<span class="hljs-string">&#x27;./4.js&#x27;</span>)<br>        <span class="hljs-comment">//上一状态为 fulfilled  resolve的value为(./1.js)  </span><br>        <span class="hljs-comment">//无返回 默认返回一个空的promise  此时状态为fulfilled</span><br>        <span class="hljs-comment">//loadScript(&#x27;./4.js&#x27;)是否能执行均不会影响此时的状态</span><br>      &#125;)<br>      .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>         <span class="hljs-title function_">loadScript</span>(<span class="hljs-string">&#x27;./3.js&#x27;</span>)<br>       <span class="hljs-comment">//上一状态为为fulfilled 继续执行这个then</span><br>      &#125;)<br>      .<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(err)<br>      &#125;)<br>      <span class="hljs-comment">// throw new Error</span><br><br><br></code></pre></td></tr></table></figure>


<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs js">+<span class="hljs-title class_">Promise</span>.<span class="hljs-property">resolve</span> 方法，<span class="hljs-title class_">Promise</span>.<span class="hljs-property">reject</span> 方法<br><br><br><span class="hljs-comment">//有时需要将现有对象转为Promise对象，Promise.resolve方法就起到这个作用。</span><br><span class="hljs-keyword">var</span> jsPromise = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>($.<span class="hljs-title function_">ajax</span>(<span class="hljs-string">&#x27;/whatever.json&#x27;</span>));<br><span class="hljs-comment">//上面代码将 jQuery 生成 deferred 对象，转为一个新的 ES6 的 Promise 对象。</span><br><br><span class="hljs-comment">//如果 Promise.resolve 方法的参数，不是具有 then 方法的对象（又称 thenable 对象），则返回一个新的 Promise 对象，且它的状态为fulfilled。</span><br><span class="hljs-keyword">var</span> p = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-string">&#x27;Hello&#x27;</span>);<br> <br>p.<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">s</span>)&#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(s)<br>&#125;);<br><span class="hljs-comment">// Hello</span><br><span class="hljs-comment">//上面代码生成一个新的Promise对象的实例p，它的状态为fulfilled，所以回调函数会立即执行，Promise.resolve方法的参数就是回调函数的参数。</span><br><br><span class="hljs-comment">//如果Promise.resolve方法的参数是一个Promise对象的实例，则会被原封不动地返回。</span><br><span class="hljs-comment">//Promise.reject(reason)方法也会返回一个新的Promise实例，该实例的状态为rejected。Promise.reject方法的参数reason，会被传递给实例的回调函数。</span><br><br><span class="hljs-keyword">var</span> p = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-string">&#x27;出错了&#x27;</span>);<br> <br>p.<span class="hljs-title function_">then</span>(<span class="hljs-literal">null</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">s</span>)&#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(s)<br>&#125;);<br><span class="hljs-comment">// 出错了</span><br><span class="hljs-comment">//上面代码生成一个Promise对象的实例，状态为rejected，回调函数会立即执行。</span><br><br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">test</span> (bool) &#123;<br>  <span class="hljs-keyword">if</span> (bool) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>      <span class="hljs-title function_">resolve</span>(<span class="hljs-number">30</span>)<br>    &#125;)<br>  &#125; <span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;ss&#x27;</span>))<br>  &#125;<br><br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs js">+<span class="hljs-title class_">Promise</span>.<span class="hljs-property">all</span>方法<br>    <span class="hljs-title class_">Promise</span>.<span class="hljs-property">all</span> 方法用于将多个 <span class="hljs-title class_">Promise</span> 实例，包装成一个新的 <span class="hljs-title class_">Promise</span> 实例。<br>        <span class="hljs-keyword">var</span> p = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([p1,p2,p3]);<br>    上面代码中，<span class="hljs-title class_">Promise</span>.<span class="hljs-property">all</span> 方法接受一个数组作为参数，p1、p2、p3 都是 <span class="hljs-title class_">Promise</span> 对象的实例。<br>    （<span class="hljs-title class_">Promise</span>.<span class="hljs-property">all</span> 方法的参数不一定是数组，但是必须具有 iterator 接口，<br>    且返回的每个成员都是 <span class="hljs-title class_">Promise</span> 实例。）<br><br>    p 的状态由 p1、p2、p3 决定，分成两种情况。<br>    （<span class="hljs-number">1</span>）只有p1、p2、p3的状态都变成fulfilled，p的状态才会变成fulfilled，<br>    此时p1、p2、p3的返回值组成一个数组，传递给p的回调函数。<br>    （<span class="hljs-number">2</span>）只要p1、p2、p3之中有一个被rejected，p的状态就变成rejected，<br>    此时第一个被reject的实例的返回值，会传递给p的回调函数。<br><br>+<span class="hljs-title class_">Promise</span>.<span class="hljs-property">race</span>方法<br>    <span class="hljs-title class_">Promise</span>.<span class="hljs-property">race</span> 方法同样是将多个 <span class="hljs-title class_">Promise</span> 实例，包装成一个新的 <span class="hljs-title class_">Promise</span> 实例。<br><br>    <span class="hljs-keyword">var</span> p = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">race</span>([p1,p2,p3]);<br>    上面代码中，只要p1、p2、p3之中有一个实例率先改变状态，p的状态就跟着改变。<br>    那个率先改变的<span class="hljs-title class_">Promise</span>实例的返回值，就传递给p的返回值。<br><br>    如果<span class="hljs-title class_">Promise</span>.<span class="hljs-property">all</span>方法和<span class="hljs-title class_">Promise</span>.<span class="hljs-property">race</span>方法的参数，不是<span class="hljs-title class_">Promise</span>实例，<br>	就会先调用下面讲到的<span class="hljs-title class_">Promise</span>.<span class="hljs-property">resolve</span>方法，将参数转为<span class="hljs-title class_">Promise</span>实例，再进一步处理。<br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs js">+ <span class="hljs-title class_">Promise</span> 封装ajax     <br>      <span class="hljs-comment">// 接口地址: https://api.apiopen.top/getJoke</span><br>        <span class="hljs-keyword">const</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>            <span class="hljs-comment">//1. 创建对象</span><br>            <span class="hljs-keyword">const</span> xhr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">XMLHttpRequest</span>();<br><br>            <span class="hljs-comment">//2. 初始化</span><br>            xhr.<span class="hljs-title function_">open</span>(<span class="hljs-string">&quot;GET&quot;</span>, <span class="hljs-string">&quot;https://api.apiopen.top/getJ&quot;</span>);<br><br>            <span class="hljs-comment">//3. 发送</span><br>            xhr.<span class="hljs-title function_">send</span>();<br><br>            <span class="hljs-comment">//4. 绑定事件, 处理响应结果</span><br>            xhr.<span class="hljs-property">onreadystatechange</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>                <span class="hljs-comment">//判断</span><br>                <span class="hljs-keyword">if</span> (xhr.<span class="hljs-property">readyState</span> === <span class="hljs-number">4</span>) &#123;<br>                    <span class="hljs-comment">//判断响应状态码 200-299</span><br>                    <span class="hljs-keyword">if</span> (xhr.<span class="hljs-property">status</span> &gt;= <span class="hljs-number">200</span> &amp;&amp; xhr.<span class="hljs-property">status</span> &lt; <span class="hljs-number">300</span>) &#123;<br>                        <span class="hljs-comment">//表示成功</span><br>                        <span class="hljs-title function_">resolve</span>(xhr.<span class="hljs-property">response</span>);<br>                    &#125; <span class="hljs-keyword">else</span> &#123;<br>                        <span class="hljs-comment">//如果失败</span><br>                        <span class="hljs-title function_">reject</span>(xhr.<span class="hljs-property">status</span>);<br>                    &#125;<br>                &#125;<br>            &#125;<br>        &#125;)<br>        <br>        <span class="hljs-comment">//指定回调</span><br>        p.<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>)&#123;<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value);<br>        &#125;, <span class="hljs-keyword">function</span>(<span class="hljs-params">reason</span>)&#123;<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(reason);<br>        &#125;);<br></code></pre></td></tr></table></figure>



<h3 id="Reflect"><a href="#Reflect" class="headerlink" title="Reflect"></a>Reflect</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-title class_">Reflect</span>是一个内置的对象，它提供拦截 <span class="hljs-title class_">JavaScript</span> 操作的方法。这些方法与处理器对象的方法相同。<span class="hljs-title class_">Reflect</span>不是一个函数对象，因此它是不可构造的。与大多数全局对象不同，<span class="hljs-title class_">Reflect</span>没有构造函数。你不能将其与一个<span class="hljs-keyword">new</span>运算符一起使用，或者将<span class="hljs-title class_">Reflect</span>对象作为一个函数来调用。<span class="hljs-title class_">Reflect</span>的所有属性和方法都是静态的（就像<span class="hljs-title class_">Math</span>对象）。<br><br><span class="hljs-title class_">Reflect</span>在调用的方法存在不确定性的情况下表现更好<br>在方法确定的情况下用和常规方法没有较大差别<br><br><span class="hljs-title class_">Reflect</span>对象提供以下静态函数，它们具有与处理器对象方法相同的名称。这些方法中的一些与<span class="hljs-title class_">Object</span>上的对应方法相同。<br><br>+<span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">apply</span>(target, thisArgument, argumentsList)<br>        <span class="hljs-comment">//对一个函数进行调用操作，同时可以传入一个数组作为调用参数。和Function.prototype.apply()功能类似。</span><br>        <span class="hljs-comment">//target目标函数。thisArgumenttarget函数调用时绑定的this对象。argumentsListtarget函数调用时传入的实参列表，该参数应该是一个类数组的对象。</span><br>    <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">apply</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-property">floor</span>, <span class="hljs-literal">undefined</span>, [<span class="hljs-number">1.75</span>]); <span class="hljs-comment">// 1;   </span><br>    <span class="hljs-comment">//ES5写法   Math.floor.apply（null，[1.75]）</span><br>    <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">apply</span>(<span class="hljs-title class_">String</span>.<span class="hljs-property">fromCharCode</span>, <span class="hljs-literal">undefined</span>, [<span class="hljs-number">104</span>, <span class="hljs-number">101</span>, <span class="hljs-number">108</span>, <span class="hljs-number">108</span>, <span class="hljs-number">111</span>]);<span class="hljs-comment">// &quot;hello&quot;   </span><br>    <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">apply</span>(<span class="hljs-title class_">RegExp</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">exec</span>, <span class="hljs-regexp">/ab/</span>, [<span class="hljs-string">&#x27;confabulation&#x27;</span>]).<span class="hljs-property">index</span>;<span class="hljs-comment">// 4</span><br>    <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">apply</span>(<span class="hljs-string">&#x27;&#x27;</span>.<span class="hljs-property">charAt</span>, <span class="hljs-string">&#x27;ponies&#x27;</span>, [<span class="hljs-number">3</span>]);<span class="hljs-comment">// &quot;i&quot;</span><br><br>+ <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">construct</span>(target, argumentsList[, newTarget])<br>    <span class="hljs-comment">//target被运行的目标函数argumentsList调用构造函数的数组或者伪数组newTarget可选该参数为构造函数， 参考new.target操作符，如果没有newTarget参数， 默认和target一样</span><br>    <span class="hljs-comment">//对构造函数进行new操作，相当于执行new target(...args)。</span><br>    <span class="hljs-keyword">var</span> d = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">construct</span>(<span class="hljs-title class_">Date</span>, [<span class="hljs-number">1776</span>, <span class="hljs-number">6</span>, <span class="hljs-number">4</span>]);<br><br>+ <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">defineProperty</span>(target, propertyKey, attributes)<br>    <span class="hljs-comment">//和Object.defineProperty()类似。唯一不同是返回 Boolean值。</span><br>    <span class="hljs-comment">//target目标对象。propertyKey要定义或修改的属性的名称。attributes要定义或修改的属性的描述。</span><br>    <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">defineProperty</span>(obj, <span class="hljs-string">&#x27;x&#x27;</span>, &#123;<span class="hljs-attr">value</span>: <span class="hljs-number">7</span>&#125;); <span class="hljs-comment">// true</span><br><br>+<span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">deleteProperty</span>(target, propertyKey)<br>    <span class="hljs-comment">//Reflect.deleteProperty()作为函数的delete操作符，相当于执行delete target[name]。唯一不同是返回 Boolean值。</span><br><br>+ <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">enumerate</span>()<br>    <span class="hljs-comment">//该方法会返回一个包含有目标对象身上所有可枚举的自身字符串属性以及继承字符串属性的迭代器，for...in操作遍历到的正是这些属性。</span><br><br>+ <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(target, propertyKey[, receiver])<br>    <span class="hljs-comment">//获取对象身上某个属性的值，。就像从对象 (target[propertyKey]) 中获取属性，但它是作为一个函数执行的。</span><br>    <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>([<span class="hljs-string">&#x27;zero&#x27;</span>, <span class="hljs-string">&#x27;one&#x27;</span>], <span class="hljs-number">1</span>); <span class="hljs-comment">// &quot;one&quot;</span><br>    <span class="hljs-keyword">var</span> obj = &#123; <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">2</span> &#125;;<br>    <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(obj, <span class="hljs-string">&#x27;x&#x27;</span>); <span class="hljs-comment">// 1</span><br>+ <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">set</span>(target, propertyKey, value[, receiver])<br>    <span class="hljs-comment">//Reflect.set 方法允许你在对象上设置属性。它的作用是给属性赋值并且就像 property accessor语法一样，但是它是以函数的方式。</span><br>    <span class="hljs-comment">//target设置属性的目标对象。propertyKey设置的属性的名称。value设置的值。receiver如果遇到 setter，this 将提供给目标调用。返回一个boolean值</span><br>    <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">set</span>(obj, <span class="hljs-string">&#x27;prop&#x27;</span>, <span class="hljs-string">&#x27;value&#x27;</span>); <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs js">    <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">getOwnPropertyDescriptor</span>(target, propertyKey)<br><span class="hljs-comment">//类似于Object.getOwnPropertyDescriptor()。</span><br><br>    <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">getPrototypeOf</span>(target)<br><span class="hljs-comment">//类似于Object.getPrototypeOf()。</span><br><span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">getPrototypeOf</span>(&#123;&#125;); <span class="hljs-comment">// Object.prototype</span><br><br>    <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">has</span>(target, propertyKey)<br><span class="hljs-comment">//判断一个对象是否存在某个属性，和in运算符的功能完全相同。</span><br><br>    <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">isExtensible</span>(target)<br><span class="hljs-comment">//类似于Object.isExtensible().</span><br><br>    <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">ownKeys</span>()<br><span class="hljs-comment">//返回一个包含所有自身属性（不包含继承属性）的数组。</span><br><br>    <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">preventExtensions</span>()<br><span class="hljs-comment">//类似于Object.preventExtensions()。返回一个Boolean。Reflect.set()将值分配给属性的函数。返回一个Boolean，如果更新成功，则返回true。</span><br><br>    <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">setPrototypeOf</span>()<br><span class="hljs-comment">//类似于Object.setPrototypeOf()。</span><br></code></pre></td></tr></table></figure>

<h3 id="Proxy"><a href="#Proxy" class="headerlink" title="Proxy"></a>Proxy</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(target, handler)<br><br>处理器对象用来自定义代理对象的各种可代理操作。<br>一共有 <span class="hljs-number">13</span> 种可代理操作，每种操作的代号（属性名/方法名）和触发这种操作的方式列举如下。注意，如果没有定义某种操作，那么这种操作会被转发到目标对象身上。<br><br><span class="hljs-keyword">var</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(target, &#123;<br>  <span class="hljs-attr">apply</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">target, thisArg, argumentsList</span>) &#123;...&#125;;<br>  <span class="hljs-attr">get</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">target, property, receiver</span>) &#123;...&#125;;<br>  <br>&#125;);<br>                                                    <br>                                                   <br><span class="hljs-number">13</span>种拦截方法如下（以下引用摘自阮一峰<span class="hljs-title class_">ES6</span>入门）：<br><br>    <span class="hljs-number">1</span>、<span class="hljs-title function_">get</span>(target, propKey, receiver)：<br>    拦截对象属性的读取，比如proxy.<span class="hljs-property">foo</span>和proxy[‘foo’]。<br><br>    <span class="hljs-number">2</span>、<span class="hljs-title function_">set</span>(target, propKey, value, receiver)： 拦截对象属性的设置，比如proxy.<span class="hljs-property">foo</span> =<br>    v或proxy[‘foo’] = v，返回一个布尔值。<br><br>    <span class="hljs-number">3</span>、<span class="hljs-title function_">has</span>(target, propKey)：<br>    拦截propKey <span class="hljs-keyword">in</span> proxy的操作，返回一个布尔值。<br><br>    <span class="hljs-number">4</span>、<span class="hljs-title function_">deleteProperty</span>(target, propKey)：<br>    拦截<span class="hljs-keyword">delete</span> proxy[propKey]的操作，返回一个布尔值。<br><br>    <span class="hljs-number">5</span>、<span class="hljs-title function_">ownKeys</span>(target)：<br>    拦截<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getOwnPropertyNames</span>(proxy)、<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getOwnPropertySymbols</span>(proxy)、<br>    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(proxy)、<span class="hljs-keyword">for</span>…<span class="hljs-keyword">in</span>循环，返回一个数组。该方法返回目标对象所有自身的属性的属性名，<br>    而<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>()的返回结果仅包括目标对象自身的可遍历属性。<br><br>    <span class="hljs-number">6</span>、<span class="hljs-title function_">getOwnPropertyDescriptor</span>(target, propKey)：<br>    拦截<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getOwnPropertyDescriptor</span>(proxy, propKey)，返回属性的描述对象。<br><br>    <span class="hljs-number">7</span>、<span class="hljs-title function_">defineProperty</span>(target, propKey, propDesc)：<br>    拦截<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(proxy, propKey,<br>    propDesc）、<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperties</span>(proxy, propDescs)，返回一个布尔值。<br><br>    <span class="hljs-number">8</span>、<span class="hljs-title function_">preventExtensions</span>(target)：<br>    拦截<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">preventExtensions</span>(proxy)，返回一个布尔值。<br><br>    <span class="hljs-number">9</span>、<span class="hljs-title function_">getPrototypeOf</span>(target)：<br>    拦截<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(proxy)，返回一个对象。<br><br>    <span class="hljs-number">10</span>、<span class="hljs-title function_">isExtensible</span>(target)：<br>    拦截<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">isExtensible</span>(proxy)，返回一个布尔值。<br><br>    <span class="hljs-number">11</span>、<span class="hljs-title function_">setPrototypeOf</span>(target, proto)：<br>    拦截<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">setPrototypeOf</span>(proxy,<br>    proto)，返回一个布尔值。如果目标对象是函数，那么还有两种额外操作可以拦截。<br><br>    <span class="hljs-number">12</span>、<span class="hljs-title function_">apply</span>(target, object, args)：<br>    拦截<span class="hljs-title class_">Proxy</span> 实例作为函数调用的操作，比如<span class="hljs-title function_">proxy</span>(…args)、proxy.<span class="hljs-title function_">call</span>(object,<br>    …args)、proxy.<span class="hljs-title function_">apply</span>(…)。<br><br>    <span class="hljs-number">13</span>、<span class="hljs-title function_">construct</span>(target, args)：<br>    拦截 <span class="hljs-title class_">Proxy</span> 实例作为构造函数调用的操作，比如<span class="hljs-keyword">new</span> <span class="hljs-title function_">proxy</span>(…args)。<br><br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Proxy</span>.<span class="hljs-title function_">revocable</span>(target, handler);  方法可以用来创建一个可撤销的代理对象。     <br><br><span class="hljs-keyword">var</span> revocable = <span class="hljs-title class_">Proxy</span>.<span class="hljs-title function_">revocable</span>(&#123;&#125;, &#123;<br>  <span class="hljs-attr">get</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">target, name</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;[[&quot;</span> + name + <span class="hljs-string">&quot;]]&quot;</span>;<br>  &#125;<br>&#125;);<br><span class="hljs-keyword">var</span> proxy = revocable.<span class="hljs-property">proxy</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(proxy.<span class="hljs-property">foo</span>); <span class="hljs-comment">// &quot;[[foo]]&quot;</span><br><br>revocable.<span class="hljs-title function_">revoke</span>();    <span class="hljs-comment">//撤销代理</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(proxy.<span class="hljs-property">foo</span>); <span class="hljs-comment">// TypeError is thrown</span><br>proxy.<span class="hljs-property">foo</span> = <span class="hljs-number">1</span>           <span class="hljs-comment">// TypeError again</span><br><span class="hljs-keyword">delete</span> proxy.<span class="hljs-property">foo</span>;       <span class="hljs-comment">// still TypeError</span><br><span class="hljs-keyword">typeof</span> proxy            <span class="hljs-comment">// &quot;object&quot;, typeof doesn&#x27;t trigger any trap</span><br></code></pre></td></tr></table></figure>

<h3 id="Generator"><a href="#Generator" class="headerlink" title="Generator"></a>Generator</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-title class_">Generator</span>对象由一个生成器函数获得，它符合iterable协议和iterator协议。<br><br><span class="hljs-title class_">Generator</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-title function_">next</span>()返回一个由<span class="hljs-keyword">yield</span>表达式生成的值。<br><span class="hljs-title class_">Generator</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-keyword">return</span>()返回给定的值并结束生成器。<br><span class="hljs-title class_">Generator</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-keyword">throw</span>()向生成器抛出一个错误。<br><br><br><span class="hljs-keyword">function</span>* <span class="hljs-title function_">func</span>(<span class="hljs-params"></span>)&#123;<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;one&quot;</span>);<br> <span class="hljs-keyword">yield</span> <span class="hljs-string">&#x27;1&#x27;</span>;<br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;two&quot;</span>);<br> <span class="hljs-keyword">yield</span> <span class="hljs-string">&#x27;2&#x27;</span>; <br> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;three&quot;</span>);<br> <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;3&#x27;</span>;<br>&#125;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(f.<span class="hljs-title function_">next</span>());<span class="hljs-comment">//  先执行f.next()，输出one</span><br><span class="hljs-comment">// 此时f.next()返回的是&#123;value: &quot;1&quot;, done: false&#125; 通过控制台输出</span><br> <br>f.<span class="hljs-title function_">next</span>();<span class="hljs-comment">// two</span><br><span class="hljs-comment">// 此时f.next()返回的是&#123;value: &quot;2&quot;, done: false&#125;</span><br> <br>f.<span class="hljs-title function_">next</span>(); <span class="hljs-comment">//three</span><br><span class="hljs-comment">// 此时f.next()返回的是&#123;value: &quot;3&quot;, done: true&#125;</span><br> <br>f.<span class="hljs-title function_">next</span>();  <span class="hljs-comment">//无输出</span><br><span class="hljs-comment">// 此时f.next()返回的是 &#123;value: undefined, done: true&#125;</span><br><br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs js">+ next 方法<br>    一般情况下，next 方法不传入参数的时候，<span class="hljs-keyword">yield</span> 表达式的返回值是 <span class="hljs-literal">undefined</span> 。<br>    <span class="hljs-keyword">yield</span>后面跟的表达式会将该表达式的值传给next（）.<span class="hljs-property">value</span>，<br>    比如 <span class="hljs-keyword">const</span> a =<span class="hljs-keyword">yield</span> <span class="hljs-string">&#x27;1&#x27;</span> 是拿不到值的 只会输出<span class="hljs-literal">undefined</span><br>    当 next 传入参数的时候，该参数会作为上一步<span class="hljs-keyword">yield</span>的返回值。<br>    <br>    除了使用 next ，还可以使用 <span class="hljs-keyword">for</span>... <span class="hljs-keyword">of</span> 循环遍历 <span class="hljs-title class_">Generator</span> 函数生产的 <span class="hljs-title class_">Iterator</span> 对象。<br>    <br>    <span class="hljs-keyword">function</span>* <span class="hljs-title function_">sendParameter</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;start&quot;</span>);<br>    <span class="hljs-keyword">var</span> x = <span class="hljs-keyword">yield</span> <span class="hljs-string">&#x27;2&#x27;</span>;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;one:&quot;</span> + x);<br>    <span class="hljs-keyword">var</span> y = <span class="hljs-keyword">yield</span> <span class="hljs-string">&#x27;3&#x27;</span>;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;two:&quot;</span> + y);<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;total:&quot;</span> + (x + y));<br>&#125;<br><br>   next不传参<br>        <span class="hljs-keyword">var</span> sendp1 = <span class="hljs-title function_">sendParameter</span>();<br>        sendp1.<span class="hljs-title function_">next</span>();<br>        <span class="hljs-comment">// start</span><br>        <span class="hljs-comment">// &#123;value: &quot;2&quot;, done: false&#125;</span><br>        sendp1.<span class="hljs-title function_">next</span>();<br>        <span class="hljs-comment">// one:undefined</span><br>        <span class="hljs-comment">// &#123;value: &quot;3&quot;, done: false&#125;</span><br>        sendp1.<span class="hljs-title function_">next</span>();<br>        <span class="hljs-comment">// two:undefined</span><br>        <span class="hljs-comment">// total:NaN</span><br>        <span class="hljs-comment">// &#123;value: undefined, done: true&#125;</span><br><br>    next传参<br>        <span class="hljs-keyword">var</span> sendp2 = <span class="hljs-title function_">sendParameter</span>();<br>        sendp2.<span class="hljs-title function_">next</span>(<span class="hljs-number">10</span>);<br>        <span class="hljs-comment">// start</span><br>        <span class="hljs-comment">// &#123;value: &quot;2&quot;, done: false&#125;</span><br>        sendp2.<span class="hljs-title function_">next</span>(<span class="hljs-number">20</span>);<br>        <span class="hljs-comment">// one:20</span><br>        <span class="hljs-comment">// &#123;value: &quot;3&quot;, done: false&#125;</span><br>        sendp2.<span class="hljs-title function_">next</span>(<span class="hljs-number">30</span>);<br>        <span class="hljs-comment">// two:30</span><br>        <span class="hljs-comment">// total:50</span><br>        <span class="hljs-comment">// &#123;value: undefined, done: true&#125;</span><br><br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs js">+ <span class="hljs-keyword">return</span> 方法<br><br>    <span class="hljs-keyword">return</span> 方法返回给定值，并结束遍历 <span class="hljs-title class_">Generator</span> 函数。<br>    <span class="hljs-keyword">return</span> 方法提供参数时，返回该参数；不提供参数时，返回 <span class="hljs-literal">undefined</span> 。<br><br>        <span class="hljs-keyword">function</span>* <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>)&#123;<br>            <span class="hljs-keyword">yield</span> <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">yield</span> <span class="hljs-number">2</span>;<br>            <span class="hljs-keyword">yield</span> <span class="hljs-number">3</span>;<br>        &#125;<br>        <span class="hljs-keyword">var</span> f = <span class="hljs-title function_">foo</span>();<br>        f.<span class="hljs-title function_">next</span>();<br>        <span class="hljs-comment">// &#123;value: 1, done: false&#125;</span><br>        f.<span class="hljs-keyword">return</span>(<span class="hljs-string">&quot;foo&quot;</span>);<br>        <span class="hljs-comment">// &#123;value: &quot;foo&quot;, done: true&#125;</span><br>        f.<span class="hljs-title function_">next</span>();<br>        <span class="hljs-comment">// &#123;value: undefined, done: true&#125;</span><br><br>+ <span class="hljs-keyword">throw</span> 方法<br>    <span class="hljs-keyword">throw</span> 方法可以再 <span class="hljs-title class_">Generator</span> 函数体外面抛出异常，再函数体内部捕获。<br>        <span class="hljs-keyword">var</span> g = <span class="hljs-keyword">function</span>* () &#123;<br>          <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-keyword">yield</span>;<br>          &#125; <span class="hljs-keyword">catch</span> (e) &#123;<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;catch inner&#x27;</span>, e);<br>          &#125;<br>        &#125;;<br><br>        <span class="hljs-keyword">var</span> i = <span class="hljs-title function_">g</span>();<br>        i.<span class="hljs-title function_">next</span>();<br><br>        <span class="hljs-keyword">try</span> &#123;<br>          i.<span class="hljs-keyword">throw</span>(<span class="hljs-string">&#x27;a&#x27;</span>);<br>          i.<span class="hljs-keyword">throw</span>(<span class="hljs-string">&#x27;b&#x27;</span>);<br>        &#125; <span class="hljs-keyword">catch</span> (e) &#123;<br>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;catch outside&#x27;</span>, e);<br>        &#125;<br>        <span class="hljs-comment">// catch inner a</span><br>        <span class="hljs-comment">// catch outside b</span><br>		<span class="hljs-comment">//遍历器对象抛出了两个错误，第一个被 Generator 函数内部捕获，</span><br>		<span class="hljs-comment">//第二个因为函数体内部的catch 函数已经执行过了，不会再捕获这个错误，所以这个错误就抛出 Generator 函数体，被函数体外的 catch 捕获。</span><br>+<span class="hljs-keyword">yield</span>* 表达式<br><br><span class="hljs-keyword">yield</span>* 表达式表示 <span class="hljs-keyword">yield</span> 返回一个遍历器对象，用于在 <span class="hljs-title class_">Generator</span> 函数内部，调用另一个 <span class="hljs-title class_">Generator</span> 函数。<br><br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><code class="hljs js">####################<span class="hljs-variable constant_">MDN</span>官方文档#################<br><br>+ 生成器对象是由一个 generator <span class="hljs-keyword">function</span> 返回的，并且它符合可迭代协议和迭代器协议。<br>+方法<br>    <span class="hljs-title class_">Generator</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-title function_">next</span>()<br>    <span class="hljs-comment">//返回一个由 yield表达式生成的值。</span><br>    <span class="hljs-title class_">Generator</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-keyword">return</span>()<br>    <span class="hljs-comment">//返回给定的值并结束生成器。</span><br>    <span class="hljs-title class_">Generator</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-keyword">throw</span>()<br>    <span class="hljs-comment">//向生成器抛出一个错误。</span><br>+<span class="hljs-keyword">function</span>*<br>        会定义一个生成器函数 (generator <span class="hljs-keyword">function</span>)，它返回一个 <span class="hljs-title class_">Generator</span> 对象。生成器函数不能当构造器使用，也就是不可以用<span class="hljs-keyword">new</span>生成<br>    <span class="hljs-comment">//调用一个生成器函数并不会马上执行它里面的语句，而是返回一个这个生成器的 迭代器 （ iterator ）对象。当这个迭代器的 next() 方法被首次（后续）调用时，其内的语句会执行到第一个（后续）出现yield的位置为止，yield 后紧跟迭代器要返回的值。或者如果用的是 yield*（多了个星号），则表示将执行权移交给另一个生成器函数（当前生成器暂停执行）。</span><br>	<span class="hljs-comment">//next()方法返回一个对象，这个对象包含两个属性：value 和 done，value 属性表示本次 yield 表达式的返回值，done 属性为布尔类型，表示生成器后续是否还有 yield 语句，即生成器函数是否已经执行完毕并返回。</span><br>	<span class="hljs-comment">//调用 next()方法时，如果传入了参数，那么这个参数会传给上一条执行的 yield 语句左边的变量</span><br>    <span class="hljs-comment">//当在生成器函数中显式 return 时，会导致生成器立即变为完成状态，即调用 next() 方法返回的对象的 done 为 true。如果 return 后面跟了一个值，那么这个值会作为当前调用 next() 方法返回的 value 值。</span><br>    <span class="hljs-keyword">function</span> *<span class="hljs-title function_">createIterator</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">let</span> first = <span class="hljs-keyword">yield</span> <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">let</span> second = <span class="hljs-keyword">yield</span> first + <span class="hljs-number">2</span>; <span class="hljs-comment">// 4 + 2</span><br>                                  <span class="hljs-comment">// first =4 是 next(4) 将参数赋给上一条的</span><br>    <span class="hljs-keyword">yield</span> second + <span class="hljs-number">3</span>;             <span class="hljs-comment">// 5 + 3</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;R&quot;</span>;<span class="hljs-comment">//显式返回处，可以观察到 done 也立即变为了 true</span><br>    <span class="hljs-keyword">yield</span> <span class="hljs-string">&quot;unreachable&quot;</span>;<span class="hljs-comment">// 不会被执行了</span><br>&#125;<br><br>    <span class="hljs-keyword">let</span> iterator = <span class="hljs-title function_">createIterator</span>();<br><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>());    <span class="hljs-comment">// &quot;&#123; value: 1, done: false &#125;&quot;</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>(<span class="hljs-number">4</span>));   <span class="hljs-comment">// &quot;&#123; value: 6, done: false &#125;&quot;</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>(<span class="hljs-number">5</span>));   <span class="hljs-comment">// &quot;&#123; value: 8, done: false &#125;&quot;</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>());    <span class="hljs-comment">// &quot;&#123; value: &quot;R&quot;, done: true &#125;&quot;</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>());    <span class="hljs-comment">// &quot;&#123; value: undefined, done: true &#125;&quot;</span><br><br>+ <span class="hljs-keyword">yield</span>* 的示例<br>    <span class="hljs-keyword">function</span>* <span class="hljs-title function_">anotherGenerator</span>(<span class="hljs-params">i</span>) &#123;<br>      <span class="hljs-keyword">yield</span> i + <span class="hljs-number">1</span>;<br>      <span class="hljs-keyword">yield</span> i + <span class="hljs-number">2</span>;<br>      <span class="hljs-keyword">yield</span> i + <span class="hljs-number">3</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">function</span>* <span class="hljs-title function_">generator</span>(<span class="hljs-params">i</span>)&#123;<br>      <span class="hljs-keyword">yield</span> i;<br>      <span class="hljs-keyword">yield</span>* <span class="hljs-title function_">anotherGenerator</span>(i);<span class="hljs-comment">// 移交执行权</span><br>      <span class="hljs-keyword">yield</span> i + <span class="hljs-number">10</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">var</span> gen = <span class="hljs-title function_">generator</span>(<span class="hljs-number">10</span>);<br><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(gen.<span class="hljs-title function_">next</span>().<span class="hljs-property">value</span>); <span class="hljs-comment">// 10</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(gen.<span class="hljs-title function_">next</span>().<span class="hljs-property">value</span>); <span class="hljs-comment">// 11</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(gen.<span class="hljs-title function_">next</span>().<span class="hljs-property">value</span>); <span class="hljs-comment">// 12</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(gen.<span class="hljs-title function_">next</span>().<span class="hljs-property">value</span>); <span class="hljs-comment">// 13</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(gen.<span class="hljs-title function_">next</span>().<span class="hljs-property">value</span>); <span class="hljs-comment">// 20</span><br><br>+使用迭代器遍历二维数组并转换成一维数组：<br>    <span class="hljs-keyword">function</span>* <span class="hljs-title function_">iterArr</span>(<span class="hljs-params">arr</span>) &#123;            <span class="hljs-comment">//迭代器返回一个迭代器对象</span><br>      <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(arr)) &#123;         <span class="hljs-comment">// 内节点</span><br>          <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>; i &lt; arr.<span class="hljs-property">length</span>; i++) &#123;<br>              <span class="hljs-keyword">yield</span>* <span class="hljs-title function_">iterArr</span>(arr[i]);   <span class="hljs-comment">// (*) 递归</span><br>          &#125;<br>      &#125; <span class="hljs-keyword">else</span> &#123;                          <span class="hljs-comment">// 离开</span><br>          <span class="hljs-keyword">yield</span> arr;<br>      &#125;<br>    &#125;<br>    <span class="hljs-comment">// 使用 for-of 遍历：</span><br>    <span class="hljs-keyword">var</span> arr = [<span class="hljs-string">&#x27;a&#x27;</span>, [<span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>], [<span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>]];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> x <span class="hljs-keyword">of</span> <span class="hljs-title function_">iterArr</span>(arr)) &#123;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(x);               <span class="hljs-comment">// a  b  c  d  e</span><br>    &#125;<br>    <span class="hljs-comment">// 或者直接将迭代器展开：</span><br>    <span class="hljs-keyword">var</span> arr = [ <span class="hljs-string">&#x27;a&#x27;</span>, [<span class="hljs-string">&#x27;b&#x27;</span>,[ <span class="hljs-string">&#x27;c&#x27;</span>, [<span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>]]]];<br>    <span class="hljs-keyword">var</span> gen = <span class="hljs-title function_">iterArr</span>(arr);<br>    arr = [...gen];                        <span class="hljs-comment">// [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;]</span><br></code></pre></td></tr></table></figure>

<h3 id="Itetator"><a href="#Itetator" class="headerlink" title="Itetator"></a>Itetator</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><code class="hljs JS">+可迭代协议<br>	可迭代协议允许 <span class="hljs-title class_">JavaScript</span> 对象定义或定制它们的迭代行为，例如，在一个 <span class="hljs-keyword">for</span>..<span class="hljs-property">of</span> 结构中，哪些值可以被遍历到。一些内置类型同时是内置可迭代对象，并且有默认的迭代行为，比如 <span class="hljs-title class_">Array</span> 或者 <span class="hljs-title class_">Map</span>，而其他内置类型则不是（比如 <span class="hljs-title class_">Object</span>)）。要成为可迭代对象， 一个对象必须实现 @@iterator 方法。这意味着对象（或者它原型链上的某个对象）必须有一个键为 @@iterator 的属性，可通过常量 <span class="hljs-title class_">Symbol</span>.<span class="hljs-property">iterator</span> 访问该属性：当一个对象需要被迭代的时候（比如被置入一个 <span class="hljs-keyword">for</span>...<span class="hljs-keyword">of</span> 循环时），首先，会不带参数调用它的 @@iterator 方法，然后使用此方法返回的迭代器获得要迭代的值。<br>    <br>+迭代器协议<br>	迭代器协议定义了产生一系列值（无论是有限个还是无限个）的标准方式。当值为有限个时，所有的值都被迭代完毕后，则会返回一个默认返回值。<br>    只有实现了一个拥有以下语义（semantic）的 <span class="hljs-title function_">next</span>() 方法，一个对象才能成为迭代器：<br>    <span class="hljs-title function_">next</span>() 方法必须返回一个对象，该对象应当有两个属性： done（boolean） 和 value，如果返回了一个非对象值（比如 <span class="hljs-literal">false</span> 或 <span class="hljs-literal">undefined</span>），则会抛出一个 <span class="hljs-title class_">TypeError</span> 异常（<span class="hljs-string">&quot;iterator.next() returned a non-object value&quot;</span>）。<br>    <br>    <br>    目前所有的内置可迭代对象如下：<span class="hljs-title class_">String</span>、<span class="hljs-title class_">Array</span>、<span class="hljs-title class_">TypedArray</span>、<span class="hljs-title class_">Map</span> 和 <span class="hljs-title class_">Set</span>，它们的原型对象都实现了 @@<span class="hljs-string">``</span>iterator 方法。<br>    一些语句和表达式需要可迭代对象，比如 <span class="hljs-keyword">for</span>...<span class="hljs-keyword">of</span> 循环、展开语法、<span class="hljs-keyword">yield</span>*，和解构赋值。<br><br>+ 简单迭代器<br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">makeIterator</span>(<span class="hljs-params">array</span>) &#123;<br>        <span class="hljs-keyword">let</span> nextIndex = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">return</span> &#123;<br>           <span class="hljs-attr">next</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>               <span class="hljs-keyword">return</span> nextIndex &lt; array.<span class="hljs-property">length</span> ? &#123;<br>                   <span class="hljs-attr">value</span>: array[nextIndex++],<br>                   <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span><br>               &#125; : &#123;<br>                   <span class="hljs-attr">done</span>: <span class="hljs-literal">true</span><br>               &#125;;<br>           &#125;<br>        &#125;;<br>    &#125;<br><br>    <span class="hljs-keyword">let</span> it = <span class="hljs-title function_">makeIterator</span>([<span class="hljs-string">&#x27;哟&#x27;</span>, <span class="hljs-string">&#x27;呀&#x27;</span>]);<br><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(it.<span class="hljs-title function_">next</span>().<span class="hljs-property">value</span>); <span class="hljs-comment">// &#x27;哟&#x27;</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(it.<span class="hljs-title function_">next</span>().<span class="hljs-property">value</span>); <span class="hljs-comment">// &#x27;呀&#x27;</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(it.<span class="hljs-title function_">next</span>().<span class="hljs-property">done</span>);  <span class="hljs-comment">// true</span><br><br>++ 使用生成器<br>        <span class="hljs-keyword">function</span>* <span class="hljs-title function_">makeSimpleGenerator</span>(<span class="hljs-params">array</span>) &#123;<br>        <span class="hljs-keyword">let</span> nextIndex = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">while</span>(nextIndex &lt; array.<span class="hljs-property">length</span>) &#123;<br>            <span class="hljs-keyword">yield</span> array[nextIndex++];<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">let</span> gen = <span class="hljs-title function_">makeSimpleGenerator</span>([<span class="hljs-string">&#x27;哟&#x27;</span>, <span class="hljs-string">&#x27;呀&#x27;</span>]);<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(gen.<span class="hljs-title function_">next</span>().<span class="hljs-property">value</span>); <span class="hljs-comment">// &#x27;哟&#x27;</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(gen.<span class="hljs-title function_">next</span>().<span class="hljs-property">value</span>); <span class="hljs-comment">// &#x27;呀&#x27;</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(gen.<span class="hljs-title function_">next</span>().<span class="hljs-property">done</span>);  <span class="hljs-comment">// true</span><br><br><br>    <span class="hljs-keyword">function</span>* <span class="hljs-title function_">idMaker</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">let</span> index = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) &#123;<br>            <span class="hljs-keyword">yield</span> index++;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">let</span> gen = <span class="hljs-title function_">idMaker</span>();<br><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(gen.<span class="hljs-title function_">next</span>().<span class="hljs-property">value</span>); <span class="hljs-comment">// 0</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(gen.<span class="hljs-title function_">next</span>().<span class="hljs-property">value</span>); <span class="hljs-comment">// 1</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(gen.<span class="hljs-title function_">next</span>().<span class="hljs-property">value</span>); <span class="hljs-comment">// 2</span><br><span class="hljs-comment">// ...</span><br><br>+++ <span class="hljs-keyword">class</span> 中的迭代器<br>    <span class="hljs-keyword">class</span> <span class="hljs-title class_">SimpleClass</span> &#123;<br>      <span class="hljs-title function_">constructor</span>(<span class="hljs-params">data</span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span> = data<br>      &#125;<br><br>      [<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">iterator</span>]() &#123;<br>        <span class="hljs-comment">// Use a new index for each iterator. This makes multiple</span><br>        <span class="hljs-comment">// iterations over the iterable safe for non-trivial cases,</span><br>        <span class="hljs-comment">// such as use of break or nested looping over the same iterable.</span><br>        <span class="hljs-keyword">let</span> index = <span class="hljs-number">0</span>;<br><br>        <span class="hljs-keyword">return</span> &#123;<br>          <span class="hljs-attr">next</span>: <span class="hljs-function">() =&gt;</span> &#123;<br>            <span class="hljs-keyword">if</span> (index &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>.<span class="hljs-property">length</span>) &#123;<br>              <span class="hljs-keyword">return</span> &#123;<span class="hljs-attr">value</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>[index++], <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span>&#125;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>              <span class="hljs-keyword">return</span> &#123;<span class="hljs-attr">done</span>: <span class="hljs-literal">true</span>&#125;<br>            &#125;<br>          &#125;<br>        &#125;<br>      &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">const</span> simple = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SimpleClass</span>([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>])<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> val <span class="hljs-keyword">of</span> simple) &#123;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(val)   <span class="hljs-comment">// 1 2 3 4 5</span><br>    &#125;	<br><br>++++  生成器对象既是迭代器，也是可迭代对象：<br>            <span class="hljs-keyword">let</span> aGeneratorObject = <span class="hljs-keyword">function</span>* ()&#123;<br>            <span class="hljs-keyword">yield</span> <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">yield</span> <span class="hljs-number">2</span>;<br>            <span class="hljs-keyword">yield</span> <span class="hljs-number">3</span>;<br>        &#125;();<br><br>        <span class="hljs-keyword">typeof</span> aGeneratorObject.<span class="hljs-property">next</span>;<br>        <span class="hljs-comment">// 返回&quot;function&quot;, 因为有一个 next 方法，所以这是一个迭代器</span><br><br>        <span class="hljs-keyword">typeof</span> aGeneratorObject[<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">iterator</span>];<br>        <span class="hljs-comment">// 返回&quot;function&quot;, 因为有一个 @@iterator 方法，所以这是一个可迭代对象</span><br><br>        aGeneratorObject[<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">iterator</span>]() === aGeneratorObject;<br>        <span class="hljs-comment">// 返回 true，因为 @@iterator 方法返回自身（即迭代器），所以这是一个格式良好的可迭代对象</span><br><br>        [...aGeneratorObject];<br>        <span class="hljs-comment">// 返回 [1, 2, 3]</span><br><br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">iterator</span> <span class="hljs-keyword">in</span> aGeneratorObject)<br>        <span class="hljs-comment">// 返回 true，因为 @@iterator 方法是 aGeneratorObject 的一个属性</span><br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">let</span> authors = &#123;<br>  <span class="hljs-attr">allAuthors</span>: &#123;<br>    <span class="hljs-attr">fiction</span>: [<span class="hljs-string">&#x27;11&#x27;</span>, <span class="hljs-string">&#x27;22&#x27;</span>, <span class="hljs-string">&#x27;33&#x27;</span>],<br>    <span class="hljs-attr">scienceFiction</span>: [<span class="hljs-string">&#x27;44&#x27;</span>, <span class="hljs-string">&#x27;55&#x27;</span>, <span class="hljs-string">&#x27;66&#x27;</span>,<span class="hljs-string">&#x27;77&#x27;</span>],<br>    <span class="hljs-attr">fantasy</span>: [<span class="hljs-string">&#x27;J.R.Tole&#x27;</span>, <span class="hljs-string">&#x27;J.M.R&#x27;</span>, <span class="hljs-string">&#x27;Terry P.K&#x27;</span>]<br>  &#125;,<br>&#125;<br><br><span class="hljs-comment">//生成器写法（本质也是生成一个可迭代对象）</span><br>authors[<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">iterator</span>] = <span class="hljs-keyword">function</span>* ()&#123;<br>    <span class="hljs-keyword">let</span> allAuthors = <span class="hljs-variable language_">this</span>.<span class="hljs-property">allAuthors</span>;<br>    <span class="hljs-keyword">let</span> keys = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">ownKeys</span>(allAuthors);<br>    <span class="hljs-keyword">let</span> valueOutput = [];<br>    <span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)&#123;<br>        <span class="hljs-keyword">if</span>(!valueOutput.<span class="hljs-property">length</span>)&#123;<br>            <span class="hljs-comment">//首次执行或者valueOutput为空的时候进入</span><br>            <span class="hljs-comment">//获取keys[0] 赋值给valueOutput</span><br>            <span class="hljs-keyword">if</span>(keys.<span class="hljs-property">length</span>)&#123;<br>                valueOutput = allAuthors[keys[<span class="hljs-number">0</span>]];<br>                keys.<span class="hljs-title function_">shift</span>();<br>            &#125;<span class="hljs-keyword">else</span>&#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>                <span class="hljs-comment">// valueOutput   keys也空 退出迭代</span><br>            &#125;<br><br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            <span class="hljs-comment">//valueOutput不为空的时候进入逐个迭代，直至valueOutput为空</span><br>            <span class="hljs-keyword">yield</span> valueOutput.<span class="hljs-title function_">shift</span>();<br>            <br>        &#125;<br>    &#125;<br>    &#125;;<br><br><br><span class="hljs-comment">//可迭代对象写法</span><br>	authors[<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">iterator</span>] = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">let</span> allAuthors = <span class="hljs-variable language_">this</span>.<span class="hljs-property">allAuthors</span>;<br>    <span class="hljs-keyword">let</span> keys = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">ownKeys</span>(allAuthors);<br>    <span class="hljs-keyword">let</span> valueOutput = [];<br><br>    <span class="hljs-keyword">return</span>&#123;<br>        <span class="hljs-title function_">next</span>(<span class="hljs-params"></span>)&#123;<br>            <span class="hljs-keyword">if</span>(!valueOutput.<span class="hljs-property">length</span>)&#123;<br>                <span class="hljs-keyword">if</span>(keys.<span class="hljs-property">length</span>)&#123;<br>                    valueOutput=allAuthors[keys[<span class="hljs-number">0</span>]];<br>                    keys.<span class="hljs-title function_">shift</span>();<br>                &#125;<br>            &#125;<br>           <span class="hljs-keyword">return</span> &#123;<br>                    <span class="hljs-attr">done</span>:!valueOutput.<span class="hljs-property">length</span>,<br>                    <span class="hljs-attr">value</span>:valueOutput.<span class="hljs-title function_">shift</span>()<br>                &#125;            <br>        &#125;<br>    &#125;    <br>&#125;;<br><br><span class="hljs-keyword">let</span> r = [];<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> p <span class="hljs-keyword">of</span> authors)&#123;<br>    r.<span class="hljs-title function_">push</span>(p)<br>&#125;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(r)<br></code></pre></td></tr></table></figure>

<h3 id="module"><a href="#module" class="headerlink" title="module"></a>module</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs JS">建议使用大括号指定所要输出的一组变量写在文档尾部，明确导出的接口。<br>函数与类都需要有对应的名称，导出文档尾部也避免了无对应名称。<br><br><span class="hljs-comment">/*-----export [test.js]-----*/</span><br><span class="hljs-keyword">let</span> myName = <span class="hljs-string">&quot;Tom&quot;</span>;<br><span class="hljs-comment">//也可以逐个输出 比如 export let myName = &quot;Tom&quot;;</span><br><span class="hljs-keyword">let</span> myAge = <span class="hljs-number">20</span>;<br><span class="hljs-keyword">let</span> myfn = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;My name is&quot;</span> + myName + <span class="hljs-string">&quot;! I&#x27;m &#x27;&quot;</span> + myAge + <span class="hljs-string">&quot;years old.&quot;</span><br>&#125;<br><span class="hljs-keyword">let</span> myClass =  <span class="hljs-keyword">class</span> <span class="hljs-title class_">myClass</span> &#123;<br>    <span class="hljs-keyword">static</span> a = <span class="hljs-string">&quot;yeah!&quot;</span>;<br>&#125;<br><span class="hljs-keyword">let</span> mydefalut =  <span class="hljs-keyword">class</span> <span class="hljs-title class_">mydefalut</span> &#123;<br>    <span class="hljs-keyword">static</span> a = <span class="hljs-string">&quot;defalut!&quot;</span>;<br>&#125;<br><span class="hljs-keyword">export</span> defalut mydefalut<br><span class="hljs-keyword">export</span> &#123; myName, myAge, myfn, myClass &#125;<br> <br><span class="hljs-comment">/*-----import [xxx.js]-----*/</span><br><span class="hljs-keyword">import</span> &#123; myName, myAge, myfn, myClass &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./test.js&quot;</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">myfn</span>());<span class="hljs-comment">// My name is Tom! I&#x27;m 20 years old.</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(myAge);<span class="hljs-comment">// 20</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(myName);<span class="hljs-comment">// Tom</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(myClass.<span class="hljs-property">a</span> );<span class="hljs-comment">// yeah!</span><br><br><span class="hljs-comment">//使用as</span><br><span class="hljs-keyword">import</span> &#123; myName <span class="hljs-keyword">as</span> myName2, myAge, myfn, myClass &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./test.js&quot;</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(myName2);<span class="hljs-comment">// Tom</span><br><br><span class="hljs-comment">//使用*  接收全部</span><br><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> mod <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./test.js&quot;</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(mod.<span class="hljs-property">myName2</span>);<span class="hljs-comment">// Tom</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(mod.<span class="hljs-property">defult</span>.<span class="hljs-property">myName2</span>);<span class="hljs-comment">// Tom</span><br><br><br>+<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> 命令<br>在一个文件或模块中，<span class="hljs-keyword">export</span>、<span class="hljs-keyword">import</span> 可以有多个，<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> 仅有一个。<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> 中的 <span class="hljs-keyword">default</span> 是对应的导出接口变量。<br>通过 <span class="hljs-keyword">export</span> 方式导出，在导入时要加&#123; &#125;，<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> 则不需要。<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> 向外暴露的成员，可以使用任意变量来接收。<br><br></code></pre></td></tr></table></figure>

<h2 id="2-ES7-2016"><a href="#2-ES7-2016" class="headerlink" title="2.ES7(2016)"></a>2.ES7(2016)</h2><h3 id="Array-prototype-includes"><a href="#Array-prototype-includes" class="headerlink" title="Array.prototype.includes"></a>Array.prototype.includes</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs JS">+ <span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">includes</span><br><span class="hljs-comment">//判断数组中是否包含一个指定的值，根据情况如果包含则返回true，否则返回false</span><br><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>]<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr.<span class="hljs-title function_">includes</span>(<span class="hljs-number">40</span>))  <br><br></code></pre></td></tr></table></figure>

<h3 id="Math-pow"><a href="#Math-pow" class="headerlink" title="Math.pow"></a>Math.pow</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//Math.pow() 函数返回基数（base）的指数（exponent）次幂，即 baseexponent</span><br><span class="hljs-comment">//ES7之前的写法</span><br><span class="hljs-keyword">const</span> x1 = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(<span class="hljs-number">2</span>,<span class="hljs-number">8</span>)   <span class="hljs-comment">//2的8次方</span><br><span class="hljs-comment">//ES7的写法</span><br><span class="hljs-keyword">const</span> x2 = <span class="hljs-number">2</span>**<span class="hljs-number">8</span><br><br><br></code></pre></td></tr></table></figure>

<h2 id="3-ES8-2017"><a href="#3-ES8-2017" class="headerlink" title="3.ES8(2017)"></a>3.ES8(2017)</h2><h3 id="async-x2F-await"><a href="#async-x2F-await" class="headerlink" title="async&#x2F;await"></a>async&#x2F;await</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs js">	<br>+ <span class="hljs-keyword">async</span> 函数显式返回的不是 <span class="hljs-title class_">Promise</span> 的话，会自动包装成 <span class="hljs-title class_">Promise</span> 对象<br><br>    <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">firstAsync</span> () &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">27</span>  <span class="hljs-comment">//等同于  return Promise.resolve(27)</span><br>    &#125;<br>    <span class="hljs-title function_">firstAsync</span>().<span class="hljs-title function_">then</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">log</span>) <span class="hljs-comment">// 27</span><br><br>+<span class="hljs-keyword">await</span> 后面一定是 <span class="hljs-title class_">Promise</span> 对象，如果不是会自动包装成 <span class="hljs-title class_">Promise</span> 对象<br>    <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">firstAsync</span> () &#123;<br>      <span class="hljs-keyword">let</span> promise = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>          <span class="hljs-title function_">resolve</span>(<span class="hljs-string">&#x27;now it is done&#x27;</span>)<br>        &#125;, <span class="hljs-number">1000</span>)<br>      &#125;)<br><br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">await</span> promise)<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-number">40</span>))<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">2</span>)<br>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-number">3</span>)<br>    &#125;<br><br>    <span class="hljs-title function_">firstAsync</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">val</span> =&gt;</span> &#123;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(val)<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(’done‘)<br>    &#125;)<br><br>	<span class="hljs-comment">//输出  &#x27;now it is done&#x27;   40  2  3  ’done‘</span><br><br></code></pre></td></tr></table></figure>

<h3 id="Object"><a href="#Object" class="headerlink" title="Object"></a>Object</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs JS">+<span class="hljs-title class_">Object</span>.<span class="hljs-property">values</span><br>	<span class="hljs-comment">//返回给定对象自身可枚举值的数组。</span><br>+<span class="hljs-title class_">Object</span>.<span class="hljs-property">keys</span><br>	<span class="hljs-comment">//返回一个包含所有给定对象自身可枚举属性名称的数组。</span><br>+<span class="hljs-title class_">Object</span>.<span class="hljs-property">entries</span><br>    <span class="hljs-comment">//返回给定对象自身可枚举属性的[key, value]数组。//一级属性</span><br>    <span class="hljs-comment">//new Map() 构造函数接受一个可迭代的entries。</span><br>    <span class="hljs-comment">//借助Object.entries方法你可以很容易的将Object转换为Map:</span><br>        <span class="hljs-keyword">var</span> obj = &#123; <span class="hljs-attr">foo</span>: <span class="hljs-string">&quot;bar&quot;</span>, <span class="hljs-attr">baz</span>: <span class="hljs-number">42</span> &#125;;<br>        <span class="hljs-keyword">var</span> map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(obj));<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(map); <span class="hljs-comment">// Map &#123; foo: &quot;bar&quot;, baz: 42 &#125;</span><br>+<span class="hljs-title class_">Object</span>.<span class="hljs-property">getOwnPropertyDescriptor</span><br>	<span class="hljs-comment">//返回对象指定的属性配置。如果指定的属性存在于对象上，则返回其属性描述符对象（property descriptor），否则返回 undefined。</span><br>	<span class="hljs-comment">//属性配置  value/writeable/get/set/configurable</span><br>	<span class="hljs-comment">//Object.getOwnPropertyDescriptors(obj) 方法用来获取一个对象的所有自身属性的描述符。</span><br>  -逆向操作是<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(obj, prop, descriptor)<br>    <span class="hljs-comment">//给对象添加一个属性并指定该属性的配置。</span><br>    <span class="hljs-comment">//descriptor 要定义或修改的属性描述符。</span><br><br></code></pre></td></tr></table></figure>

<h3 id="String-padding"><a href="#String-padding" class="headerlink" title="String padding"></a>String padding</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js">i.<span class="hljs-title function_">toString</span>().<span class="hljs-title function_">padStart</span>(<span class="hljs-number">5</span>, <span class="hljs-string">&#x27;*#&#x27;</span>)   <span class="hljs-comment">//固定字符串长度为5位 不足则起始位用*#补齐，如*#*#1  *#*02  *#003  *0004</span><br>i.<span class="hljs-title function_">toString</span>().<span class="hljs-title function_">padEnd</span>(<span class="hljs-number">5</span>, <span class="hljs-string">&#x27;*#&#x27;</span>)   <span class="hljs-comment">//固定字符串长度为5位 不足则结束位用*#补齐</span><br></code></pre></td></tr></table></figure>

<h2 id="4-ES9-2018"><a href="#4-ES9-2018" class="headerlink" title="4.ES9 (2018)"></a>4.ES9 (2018)</h2><h3 id="for-await-of"><a href="#for-await-of" class="headerlink" title="for await of"></a>for await of</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Gen</span> (time) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>      <span class="hljs-title function_">resolve</span>(time)<br>    &#125;, time)<br>  &#125;)<br>&#125;<br><br>+ 正常遍历(同步操作)<br><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">test</span> () &#123;<br>  <span class="hljs-keyword">let</span> arr = [<span class="hljs-title class_">Gen</span>(<span class="hljs-number">2000</span>), <span class="hljs-title class_">Gen</span>(<span class="hljs-number">100</span>), <span class="hljs-title class_">Gen</span>(<span class="hljs-number">3000</span>)]<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> item <span class="hljs-keyword">of</span> arr) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(), item.<span class="hljs-title function_">then</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">log</span>))<br>  &#125;<br>&#125;<br><span class="hljs-title function_">test</span>()<br><span class="hljs-comment">//执行顺序  先执行for of循环 第一个item  执行Date.now(),item.then返回一个promise实例，此时promise状态为pending；</span><br><span class="hljs-comment">//重复其余for of循环 注意for of循环的事件很短 很快就完成了</span><br><span class="hljs-comment">//每个promise实例依次完成resolve，执行promise.then(console.log)</span><br><br>+普通异步函数<br><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">test</span> () &#123;<br>  <span class="hljs-keyword">let</span> arr = [<span class="hljs-title class_">Gen</span>(<span class="hljs-number">2000</span>), <span class="hljs-title class_">Gen</span>(<span class="hljs-number">100</span>), <span class="hljs-title class_">Gen</span>(<span class="hljs-number">3000</span>)]<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> item <span class="hljs-keyword">of</span> arr) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(), <span class="hljs-keyword">await</span> item.<span class="hljs-title function_">then</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;66&#x27;</span>)))<br>  &#125;<br>&#125;<br><span class="hljs-title function_">test</span>()<br><span class="hljs-comment">//先执行for of循环  第一个item  读取到Date.now(), await item.then(console.log)</span><br><span class="hljs-comment">//需要先执行await异步操作  item返回一个promise实例 且该实例是resoved的  且需要异步操作 此时then被调用</span><br><span class="hljs-comment">//执行语句 console.log(&#x27;66&#x27;)   输出66</span><br><span class="hljs-comment">//promise实例的resove执行完毕 value返回2000， 及await接收到返回值2000 ，此时输出 console.log(Date.now(), 2000)</span><br><span class="hljs-comment">//其他同理</span><br><br><br>+<span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> <span class="hljs-keyword">of</span> 写法<br><br><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">test</span> () &#123;<br>  <span class="hljs-keyword">let</span> arr = [<span class="hljs-title class_">Gen</span>(<span class="hljs-number">2000</span>), <span class="hljs-title class_">Gen</span>(<span class="hljs-number">100</span>), <span class="hljs-title class_">Gen</span>(<span class="hljs-number">3000</span>)]<br>  <span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> (<span class="hljs-keyword">let</span> item <span class="hljs-keyword">of</span> arr) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(), item)<br>  &#125;<br>&#125;<br><br><span class="hljs-title function_">test</span>()<br><br><span class="hljs-comment">//for await读取到item 执行函数体 console.log(xxx)</span><br><span class="hljs-comment">//其中item在未成功返回之前 才会进入下一次的循环</span><br><br><br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs js">+自定义异步数据增加可迭代协议<br><br><span class="hljs-keyword">const</span> obj = &#123;<br>  <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,<br>  <span class="hljs-title class_">Gen</span> (time) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>      <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-title function_">resolve</span>(&#123; <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">value</span>: time &#125;)<br>      &#125;, time)<br>    &#125;)<br>  &#125;,<br>  [<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">asyncIterator</span>] () &#123;<br>    <span class="hljs-keyword">let</span> self = <span class="hljs-variable language_">this</span><br>    <span class="hljs-keyword">return</span> &#123;<br>      next () &#123;<br>        self.<span class="hljs-property">count</span>++<br>        <span class="hljs-keyword">if</span> (self.<span class="hljs-property">count</span> &lt; <span class="hljs-number">4</span>) &#123;<br>          <span class="hljs-keyword">return</span> self.<span class="hljs-title class_">Gen</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">1000</span>)<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>          <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(&#123;<br>            <span class="hljs-attr">done</span>: <span class="hljs-literal">true</span>,<br>            <span class="hljs-attr">value</span>: <span class="hljs-string">&#x27;&#x27;</span><br>          &#125;)<br>        &#125;<br>      &#125;<br>    &#125;<br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">test</span> () &#123;<br>  <span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> (<span class="hljs-keyword">let</span> item <span class="hljs-keyword">of</span> obj) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(), item)<br>  &#125;<br>&#125;<br><br><span class="hljs-title function_">test</span>()<br></code></pre></td></tr></table></figure>



<h3 id="Promise-prototype-finally"><a href="#Promise-prototype-finally" class="headerlink" title="Promise.prototype.finally"></a>Promise.prototype.finally</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">Gen</span> = (<span class="hljs-params">time</span>) =&gt; &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>      <span class="hljs-keyword">if</span> (time &lt; <span class="hljs-number">500</span>) &#123;<br>        <span class="hljs-title function_">reject</span>(time)<br>      &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-title function_">resolve</span>(time)<br>      &#125;<br>    &#125;, time)<br>  &#125;)<br>&#125;<br><br><span class="hljs-title class_">Gen</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">1000</span>)<br>  .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">val</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;resolve&#x27;</span>, val))<br>  .<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;reject&#x27;</span>, err))<br>  .<span class="hljs-title function_">finally</span>(<span class="hljs-function">() =&gt;</span> &#123; <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;finish&#x27;</span>) &#125;)<br><br></code></pre></td></tr></table></figure>



<h3 id="Object-Rest-Spread"><a href="#Object-Rest-Spread" class="headerlink" title="Object Rest Spread"></a>Object Rest Spread</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> input = &#123;<br>  <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>,<br>  <span class="hljs-attr">b</span>: <span class="hljs-number">2</span><br>&#125;<br><span class="hljs-keyword">const</span> test = &#123;<br>  <span class="hljs-attr">d</span>: <span class="hljs-number">5</span><br>&#125;<br><span class="hljs-keyword">const</span> output = &#123;<br>  ...input,<br>  ...test,<br>  <span class="hljs-attr">c</span>: <span class="hljs-number">3</span><br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(input, output)<br><br><span class="hljs-comment">//浅复制 不是引用所以不会引起修改</span><br>input.<span class="hljs-property">a</span> = <span class="hljs-number">4</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(input, output)<br><br><span class="hljs-keyword">const</span> input = &#123;<br>  <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>,<br>  <span class="hljs-attr">b</span>: <span class="hljs-number">2</span>,<br>  <span class="hljs-attr">c</span>: <span class="hljs-number">3</span>,<br>  <span class="hljs-attr">d</span>: <span class="hljs-number">4</span>,<br>  <span class="hljs-attr">e</span>: <span class="hljs-number">5</span><br>&#125;<br><br><span class="hljs-keyword">const</span> &#123; a, b, ...rest &#125; = input<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a, b, rest)<br><br></code></pre></td></tr></table></figure>

<h3 id="RegExp-Updates"><a href="#RegExp-Updates" class="headerlink" title="RegExp Updates"></a>RegExp Updates</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs js">+dotAll<br>    dotAll 属性表明是否在正则表达式中一起使用<span class="hljs-string">&quot;s&quot;</span>修饰符（引入/s 修饰符，使得。可以匹配任意单个字符）。<br>    dotAll 是一个只读的属性，属于单个正则表达式实例。<br>    <span class="hljs-string">&quot;s&quot;</span>修饰符表示，特殊字符<span class="hljs-string">&quot;.&quot;</span>应另外匹配字符串中的下述行终结符（line terminator characters），否则将会失配：<br>        U+000A 换行符（<span class="hljs-string">&quot;\n&quot;</span>）<br>        U+000D 回车符（<span class="hljs-string">&quot;\r&quot;</span>）<br>        U+<span class="hljs-number">2028</span> 行分隔符（line separator）<br>        U+<span class="hljs-number">2029</span> 段分隔符（paragraph separator）<br>    这实际上意味着<span class="hljs-string">&quot;.&quot;</span>将会匹配任意的单个 <span class="hljs-title class_">Unicode</span> <span class="hljs-title class_">Basic</span> <span class="hljs-title class_">Multilingual</span> <span class="hljs-title class_">Plane</span> (<span class="hljs-variable constant_">BMP</span>) 字符。若要使其与 astral 字符（大于 \uFFFF 的 <span class="hljs-title class_">Unicode</span> 字符）匹配，你应当使用<span class="hljs-string">&quot;u&quot;</span>（<span class="hljs-title class_">Unicode</span>）修饰符。一起使用这两个修饰符，<span class="hljs-string">&quot;.&quot;</span>将无一例外地匹配任意 <span class="hljs-title class_">Unicode</span> 字符。<br><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-regexp">/foo.bar/</span>.<span class="hljs-title function_">test</span>(<span class="hljs-string">&#x27;foo\nbar&#x27;</span>))  <br>    <span class="hljs-comment">// 返回false    默认情况下的任意字符’.‘ 并不任意匹配 </span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-regexp">/foo.bar/u</span>.<span class="hljs-title function_">test</span>(<span class="hljs-string">&#x27;foo\nbar&#x27;</span>))  <br>    <span class="hljs-comment">// 返回false   unicode编码模式也无效</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-regexp">/foo.bar/</span>s.<span class="hljs-title function_">test</span>(<span class="hljs-string">&#x27;foo\nbar&#x27;</span>))<br>    <span class="hljs-comment">//返回true</span><br>    <span class="hljs-keyword">const</span> re = <span class="hljs-regexp">/foo.bar/</span>sugi<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(re.<span class="hljs-property">dotAll</span>)   <span class="hljs-comment">//返回true</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(re.<span class="hljs-property">flags</span>)  <span class="hljs-comment">//返回sugi</span><br><br><br>+命名分组捕获<br>    <span class="hljs-keyword">const</span> t = <span class="hljs-string">&#x27;2022-08-20&#x27;</span>.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/(\d&#123;4&#125;)-(\d&#123;2&#125;)-(\d&#123;2&#125;)/</span>)<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(t[<span class="hljs-number">1</span>])  <span class="hljs-comment">//2022</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(t[<span class="hljs-number">2</span>])  <span class="hljs-comment">//08 </span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(t[<span class="hljs-number">3</span>])  <span class="hljs-comment">//20</span><br><br>    <span class="hljs-comment">//如果使用 g 标志，则将返回与完整正则表达式匹配的所有结果，但不会返回捕获组。</span><br>    <span class="hljs-comment">//如果未使用 g 标志，则仅返回第一个完整匹配及其相关的捕获组（Array）。 在这种情况下，返回的项目将具有如下所述的其他属性。</span><br>    <span class="hljs-comment">//捕获组参照上述内容  一个正则语句内有多个捕获条件</span><br><br>    <span class="hljs-comment">//groups: 一个命名捕获组对象，其键是捕获组名称，值是捕获组，如果未定义命名捕获组，则为 undefined。有关详细信息，请参阅组和范围。</span><br>    <span class="hljs-comment">//index: 匹配的结果的开始位置</span><br>    <span class="hljs-comment">//input: 搜索的字符串。</span><br>    -捕获组命名<br>        <span class="hljs-keyword">const</span> t = <span class="hljs-string">&#x27;2019-06-07&#x27;</span>.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/(?&lt;year&gt;\d&#123;4&#125;)-(?&lt;month&gt;\d&#123;2&#125;)-(?&lt;day&gt;\d&#123;2&#125;)/</span>)<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(t.<span class="hljs-property">groups</span>.<span class="hljs-property">year</span>)<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(t.<span class="hljs-property">groups</span>.<span class="hljs-property">month</span>)<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(t.<span class="hljs-property">groups</span>.<span class="hljs-property">day</span>)<br><br>+后行断言<br><br>    <span class="hljs-keyword">let</span> test = <span class="hljs-string">&#x27;hello world&#x27;</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(test.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/hello(?=\sworld)/</span>))<span class="hljs-comment">//正常先行断言 查到找hello后匹配后面的捕获内容</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(test.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/(?&lt;!helle\s)world/</span>))<span class="hljs-comment">//新增后行断言 查到找world后匹配后面的捕获内容</span><br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js">标志	描述<br>g	全局搜索。<br>i	不区分大小写搜索。<br>m	多行搜索。<br>s	允许 . 匹配换行符。<br>u	使用 unicode 码的模式进行匹配。<br>y	执行“粘性 (sticky)”搜索，匹配从目标字符串的当前位置开始。<br></code></pre></td></tr></table></figure>

<h2 id="5-ES10-2019"><a href="#5-ES10-2019" class="headerlink" title="5.ES10(2019)"></a>5.ES10(2019)</h2><h3 id="Array-1"><a href="#Array-1" class="headerlink" title="Array"></a>Array</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js">+<span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">flat</span><br>    <span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, [<span class="hljs-number">22</span>, <span class="hljs-number">33</span>], [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, [<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, [<span class="hljs-number">8</span>, <span class="hljs-number">9</span>]]]]<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr.<span class="hljs-title function_">flat</span>())  <span class="hljs-comment">//[1, 22, 33, 4, 5, Array(3)]  默认扁平化一级</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr.<span class="hljs-title function_">flat</span>(<span class="hljs-number">2</span>))  <span class="hljs-comment">// [1, 22, 33, 4, 5, 6, 7, Array(2)]   8 9 需要flat（3）才能展开 就看数据对应左侧距离‘，’有几个中括号就是几级</span><br><br>+<span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">flatmap</span>（<span class="hljs-keyword">function</span>）<br><span class="hljs-comment">//只能针对一维数组 嵌套数组无法执行</span><br>    <span class="hljs-keyword">let</span> arr2 = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> [item * <span class="hljs-number">2</span>]).<span class="hljs-title function_">flat</span>())<span class="hljs-comment">//[2, 4, 6]</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr.<span class="hljs-title function_">flatMap</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> [item * <span class="hljs-number">2</span>]))<span class="hljs-comment">//[2, 4, 6]</span><br><span class="hljs-comment">//map是个伪数组</span><br><br></code></pre></td></tr></table></figure>



<h3 id="String"><a href="#String" class="headerlink" title="String"></a>String</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js">+<span class="hljs-title class_">String</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">trimStart</span>  <span class="hljs-comment">//去掉字符串起始空格</span><br>+<span class="hljs-title class_">String</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">trimEnd</span>   <span class="hljs-comment">//去掉字符串结束处空格</span><br>+<span class="hljs-title class_">String</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">trim</span>    <span class="hljs-comment">//去掉首尾空格字符</span><br>+<span class="hljs-title class_">String</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-title function_">matchAll</span>(regexp)<br><span class="hljs-comment">//返回一个包含所有匹配正则表达式的结果及分组捕获组的迭代器。</span><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">select</span> (regExp, str) &#123;<br>      <span class="hljs-keyword">const</span> matches = []<br>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> match <span class="hljs-keyword">of</span> str.<span class="hljs-title function_">matchAll</span>(regExp)) &#123;<br>        matches.<span class="hljs-title function_">push</span>(match[<span class="hljs-number">1</span>])<br>      &#125;<br>      <span class="hljs-keyword">return</span> matches<br>    &#125;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">select</span>(<span class="hljs-regexp">/&quot;([^&quot;]*)&quot;/g</span>, str))<br><span class="hljs-comment">//如果使用 matchAll ，就可以不必使用 while 循环加 exec 方式（且正则表达式需使用 /g 标志）。使用 matchAll 会得到一个迭代器的返回值，配合 for...of, array spread, 或者 Array.from() 可以更方便实现功能.如果没有 /g 标志，matchAll 会抛出异常。</span><br></code></pre></td></tr></table></figure>

<h3 id="Object-1"><a href="#Object-1" class="headerlink" title="Object"></a>Object</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js">    <span class="hljs-keyword">const</span> arr = [[<span class="hljs-string">&#x27;foo&#x27;</span>, <span class="hljs-number">1</span>], [<span class="hljs-string">&#x27;bar&#x27;</span>, <span class="hljs-number">2</span>]]<br>    <span class="hljs-keyword">const</span> obj = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">fromEntries</span>(arr)<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-property">bar</span>)<br><br>    <span class="hljs-keyword">const</span> obj = &#123;<br>      <span class="hljs-attr">abc</span>: <span class="hljs-number">1</span>,<br>      <span class="hljs-attr">def</span>: <span class="hljs-number">2</span>,<br>      <span class="hljs-attr">ghksks</span>: <span class="hljs-number">3</span><br>    &#125;<br><br>    <span class="hljs-keyword">let</span> res = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">fromEntries</span>(<br>      <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(obj).<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">[key, val]</span>) =&gt;</span> key.<span class="hljs-property">length</span> === <span class="hljs-number">3</span>)<br>    )<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res)<br></code></pre></td></tr></table></figure>

<h2 id="6-ES11-2020"><a href="#6-ES11-2020" class="headerlink" title="6.ES11(2020)"></a>6.ES11(2020)</h2><h3 id="私有属性"><a href="#私有属性" class="headerlink" title="私有属性"></a>私有属性</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs js">+<span class="hljs-keyword">class</span>  的私有属性需要在其前面加#，无法在外部通过静态方法调用，只能在<span class="hljs-keyword">class</span> 内部调用 <br>	<span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>&#123;<br>            <span class="hljs-comment">//公有属性</span><br>            name;<br>            <span class="hljs-comment">//私有属性  </span><br>            #age;<br>            #weight;<br>            <span class="hljs-comment">//构造方法</span><br>            <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name, age, weight</span>)&#123;<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>                <span class="hljs-variable language_">this</span>.#age = age;<br>                <span class="hljs-variable language_">this</span>.#weight = weight;<br>            &#125;<br><br>            <span class="hljs-title function_">intro</span>(<span class="hljs-params"></span>)&#123;<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.#age);<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.#weight);<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-comment">//实例化</span><br>        <span class="hljs-keyword">const</span> girl = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&#x27;晓红&#x27;</span>, <span class="hljs-number">18</span>, <span class="hljs-string">&#x27;45kg&#x27;</span>);<br><br>        <span class="hljs-comment">// console.log(girl.name);</span><br>        <span class="hljs-comment">// console.log(girl.#age);</span><br>        <span class="hljs-comment">// console.log(girl.#weight);</span><br></code></pre></td></tr></table></figure>

<h3 id="Promise-allSettled"><a href="#Promise-allSettled" class="headerlink" title="Promise.allSettled"></a>Promise.allSettled</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Promise</span>.<span class="hljs-property">allSettled</span>  接收一个数组参数，数组元素均为promise对象<br><span class="hljs-title class_">Promise</span>.<span class="hljs-property">allSettled</span> 返回一个promise实例，<br>	[[<span class="hljs-title class_">PromiseState</span>]]: <span class="hljs-string">&quot;fulfilled&quot;</span> 状态固定为已完成<br>    [[<span class="hljs-title class_">PromiseResult</span>]]:<span class="hljs-title class_">Array</span>   <span class="hljs-comment">//返回内容是数组中promise对象的执行状态</span><br><br><br><br><span class="hljs-comment">//声明两个promise对象</span><br>        <span class="hljs-keyword">const</span> p1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>)=&gt;</span>&#123;<br>            <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span>&#123;<br>                <span class="hljs-title function_">resolve</span>(<span class="hljs-string">&#x27;商品数据 - 1&#x27;</span>);<br>            &#125;,<span class="hljs-number">1000</span>)<br>        &#125;);<br><br>        <span class="hljs-keyword">const</span> p2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>)=&gt;</span>&#123;<br>            <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span>&#123;<br>                <span class="hljs-comment">//resolve(&#x27;商品数据 - 2&#x27;);</span><br>                <span class="hljs-title function_">reject</span>(<span class="hljs-string">&#x27;出错啦!&#x27;</span>);<br>            &#125;,<span class="hljs-number">1000</span>)<br>        &#125;);<br><br>        <span class="hljs-comment">//调用 allsettled 方法</span><br>        <span class="hljs-keyword">const</span> result = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">allSettled</span>([p1, p2]);<br>	    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res);<br>		<span class="hljs-comment">//[[PromiseState]]: &quot;fulfilled&quot;</span><br><br>        <br>        <span class="hljs-keyword">const</span> res = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([p1, p2]);<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res);<br>		[[<span class="hljs-title class_">PromiseState</span>]]: <span class="hljs-string">&quot;rejected&quot;</span><br></code></pre></td></tr></table></figure>

<h3 id="String-prototype-matchALL"><a href="#String-prototype-matchALL" class="headerlink" title="String.prototype.matchALL"></a>String.prototype.matchALL</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs js">+<span class="hljs-title class_">String</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">matchALL</span>（<span class="hljs-title class_">RegExp</span>）<br>正则批量匹配，返回一个可迭代的对象<br>        <span class="hljs-keyword">let</span> str = <span class="hljs-string">`&lt;ul&gt;</span><br><span class="hljs-string">            &lt;li&gt;</span><br><span class="hljs-string">                &lt;a&gt;肖生克的救赎&lt;/a&gt;</span><br><span class="hljs-string">                &lt;p&gt;上映日期: 1994-09-10&lt;/p&gt;</span><br><span class="hljs-string">            &lt;/li&gt;</span><br><span class="hljs-string">            &lt;li&gt;</span><br><span class="hljs-string">                &lt;a&gt;阿甘正传&lt;/a&gt;</span><br><span class="hljs-string">                &lt;p&gt;上映日期: 1994-07-06&lt;/p&gt;</span><br><span class="hljs-string">            &lt;/li&gt;</span><br><span class="hljs-string">        &lt;/ul&gt;`</span>;<br><br>        <span class="hljs-comment">//声明正则</span><br>        <span class="hljs-keyword">const</span> reg = <span class="hljs-regexp">/&lt;li&gt;.*?&lt;a&gt;(.*?)&lt;\/a&gt;.*?&lt;p&gt;(.*?)&lt;\/p&gt;/</span>sg<br><br>        <span class="hljs-comment">//调用方法</span><br>        <span class="hljs-keyword">const</span> result = str.<span class="hljs-title function_">matchAll</span>(reg); <span class="hljs-comment">//返回一个可迭代对象  RegExpStringIterator</span><br>	<br><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> v <span class="hljs-keyword">of</span> result)&#123; <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(v);   &#125;<br>		<span class="hljs-comment">// v是一个对象   第一个v是下面内容  0是匹配正则的语句，1~2是捕获组（可能未定义的内容）</span><br>                    <span class="hljs-number">0</span>: <span class="hljs-string">&quot;&lt;li&gt;\n &lt;a&gt;肖生克的救赎&lt;/a&gt;\n &lt;p&gt;上映日期: 1994-09-10&lt;/p&gt;&quot;</span><br>                    <span class="hljs-number">1</span>: <span class="hljs-string">&quot;肖生克的救赎&quot;</span><br>                    <span class="hljs-number">2</span>: <span class="hljs-string">&quot;上映日期: 1994-09-10&quot;</span><br>                    <span class="hljs-attr">groups</span>: <span class="hljs-literal">undefined</span><br>                    <span class="hljs-attr">index</span>: <span class="hljs-number">17</span><br>                    <span class="hljs-attr">input</span>: <span class="hljs-comment">//就是整个str</span><br>                    <span class="hljs-attr">length</span>: <span class="hljs-number">3</span><br><br>        <span class="hljs-keyword">const</span> arr = [...result];<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr);<br><br></code></pre></td></tr></table></figure>

<h3 id="可选链"><a href="#可选链" class="headerlink" title="可选链"></a>可选链</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs js">+可选链就是一个问号？   <br>比如   a.<span class="hljs-property">b</span>.<span class="hljs-property">c</span>  如果a或者b是<span class="hljs-literal">undefined</span>的情况下  读取c则会报错   不能再一个<span class="hljs-literal">undefined</span>的对象上读取属性<br>此时如果用可选链  a?.<span class="hljs-property">b</span>?.<span class="hljs-property">c</span>   此时无论a或b是否存在，c都会不会报错，如果a或b为<span class="hljs-literal">undefined</span>，则此时c返回<span class="hljs-literal">undefined</span><br>		<span class="hljs-keyword">function</span> <span class="hljs-title function_">main</span>(<span class="hljs-params">config</span>)&#123;<br>            <span class="hljs-comment">//  之前的写法  需要判断是否存在</span><br>            <span class="hljs-comment">//均为真返回最后一个结果  </span><br>            <span class="hljs-comment">//const dbHost = config &amp;&amp; config.db &amp;&amp; config.db.host;   </span><br>            <span class="hljs-keyword">const</span> dbHost = config?.<span class="hljs-property">db</span>?.<span class="hljs-property">host</span>;<br><br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(dbHost);<br>        &#125;<br><br>        <span class="hljs-title function_">main</span>(&#123;<br>            <span class="hljs-attr">db</span>: &#123;<br>                <span class="hljs-attr">host</span>:<span class="hljs-string">&#x27;192.168.1.100&#x27;</span>,<br>                <span class="hljs-attr">username</span>: <span class="hljs-string">&#x27;root&#x27;</span><br>            &#125;,<br>            <span class="hljs-attr">cache</span>: &#123;<br>                <span class="hljs-attr">host</span>: <span class="hljs-string">&#x27;192.168.1.200&#x27;</span>,<br>                <span class="hljs-attr">username</span>:<span class="hljs-string">&#x27;admin&#x27;</span><br>            &#125;<br>        &#125;)<br></code></pre></td></tr></table></figure>

<h3 id="动态import"><a href="#动态import" class="headerlink" title="动态import"></a>动态import</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js">btn.<span class="hljs-property">onclick</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">import</span> (<span class="hljs-string">&#x27;.xxx.js&#x27;</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">module</span>=&gt;</span>&#123;<br>        <span class="hljs-variable language_">module</span>.<span class="hljs-property">xxxx</span>  <span class="hljs-comment">//调用模块中的方法等</span><br>    &#125;)<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="7-ES12-2021"><a href="#7-ES12-2021" class="headerlink" title="7.ES12(2021)"></a>7.ES12(2021)</h2><h3 id="String-prototype-replaceAll"><a href="#String-prototype-replaceAll" class="headerlink" title="String.prototype.replaceAll"></a>String.prototype.replaceAll</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js">+把字符串中符合的内容全部替换    之前的方法需要使用正则且开启全局匹配<br><br>    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">S1</span>=<span class="hljs-string">&#x27;A cat sit on the  cat mat&#x27;</span>;<br>    <span class="hljs-keyword">const</span> output1=<span class="hljs-variable constant_">S1</span>.<span class="hljs-title function_">replace</span>(<span class="hljs-string">&#x27;cat&#x27;</span>,<span class="hljs-string">&#x27;dog&#x27;</span>);<br>    <span class="hljs-keyword">const</span> output2=<span class="hljs-variable constant_">S1</span>.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/cat/</span>,<span class="hljs-string">&#x27;dog&#x27;</span>);<br>    <span class="hljs-keyword">const</span> output3=<span class="hljs-variable constant_">S1</span>.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/cat/g</span>,<span class="hljs-string">&#x27;dog&#x27;</span>);<br>    <span class="hljs-keyword">const</span> output4=<span class="hljs-variable constant_">S1</span>.<span class="hljs-title function_">replaceAll</span>(<span class="hljs-string">&#x27;cat&#x27;</span>,<span class="hljs-string">&#x27;dog&#x27;</span>);<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(output1);  <span class="hljs-comment">//A dog sit on the  cat mat</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(output2);  <span class="hljs-comment">//A dog sit on the  cat mat</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(output3);  <span class="hljs-comment">//A dog sit on the  dog mat</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(output4);  <span class="hljs-comment">//A dog sit on the  dog mat</span><br></code></pre></td></tr></table></figure>

<h3 id="Promise-any"><a href="#Promise-any" class="headerlink" title="Promise.any"></a>Promise.any</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs js">+<span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">any</span>() 接收一个由 <span class="hljs-title class_">Promise</span> 所组成的可迭代对象，该方法会返回一个新的 promise，一旦可迭代对象内的任意一个 promise 变成了兑现状态，那么由该方法所返回的 promise 就会变成兑现状态，并且它的兑现值就是可迭代对象内的首先兑现的 promise 的兑现值。如果可迭代对象内的 promise 最终都没有兑现（即所有 promise 都被拒绝了），那么该方法所返回的 promise 就会变成拒绝状态，并且它的拒因会是一个 <span class="hljs-title class_">AggregateError</span> 实例，这是 <span class="hljs-title class_">Error</span> 的子类，用于把单一的错误集合在一起。<br><br><br>+promise.<span class="hljs-title function_">race</span>()的区别<br> 	promise.<span class="hljs-title function_">race</span>()关注的是哪个promise对象先行返回（无论promise状态）；promise.<span class="hljs-title function_">any</span>()关注的是第一个返回的resolve的对象<br>    <br>        <span class="hljs-keyword">const</span> pErr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>          <span class="hljs-title function_">reject</span>(<span class="hljs-string">&quot;总是失败&quot;</span>);<br>        &#125;);<br><br>        <span class="hljs-keyword">const</span> pSlow = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>          <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-number">500</span>, <span class="hljs-string">&quot;最终完成&quot;</span>);<br>        &#125;);<br><br>        <span class="hljs-keyword">const</span> pFast = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>          <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-number">100</span>, <span class="hljs-string">&quot;很快完成&quot;</span>);<br>        &#125;);<br><br>        <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">any</span>([pErr, pSlow, pFast]).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> &#123;<br>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value);    <span class="hljs-comment">// pFa &#x27;&#x27;很快完成&quot;</span><br>            <br>         <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">race</span>([pErr, pSlow, pFast]).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> &#123;<br>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value);    <span class="hljs-comment">// &quot;总是失败&quot;</span><br></code></pre></td></tr></table></figure>

<h3 id="Logical-Assignment-Operators"><a href="#Logical-Assignment-Operators" class="headerlink" title="Logical Assignment Operators"></a>Logical Assignment Operators</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">+就是个语法糖<br>a || = b，如果a为<span class="hljs-literal">false</span>，则把b赋值给a，实际编译就是a|| (a=b)<br>a &amp;&amp; = b，如果a b均为<span class="hljs-literal">true</span> ，则把b赋值给a，实际编译就是 a&amp;&amp; (a=b)<br></code></pre></td></tr></table></figure>

<h3 id="Number-Separators（数值分隔符）"><a href="#Number-Separators（数值分隔符）" class="headerlink" title="Number Separators（数值分隔符）"></a>Number Separators（数值分隔符）</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js">在数据类型中增加下划线_辅助阅读<br>   <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">10000000000</span> === <span class="hljs-number">10_000_000_000</span>)    <span class="hljs-comment">//true</span><br></code></pre></td></tr></table></figure>






                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/JavaScript/" class="category-chain-item">JavaScript</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/ES6-ES12/">#ES6-ES12</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>JavaScript笔记(ES6-ES10)</div>
      <div>http://example.com/2022/09/02/JavaScript笔记-ES6-ES10/</div>
    </div>
    <div class="license-meta">
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2022年9月2日</div>
        </div>
      
      
      <div class="license-meta-item">
        <div>许可协议</div>
        <div>
          
            
            
              <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/">
              <span class="hint--top hint--rounded" aria-label="BY - 署名">
                <i class="iconfont icon-by"></i>
              </span>
              </a>
            
              <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/">
              <span class="hint--top hint--rounded" aria-label="SA - 相同方式共享">
                <i class="iconfont icon-sa"></i>
              </span>
              </a>
            
          
        </div>
      </div>
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/09/02/JavaScript%E5%8E%9F%E5%9E%8B%E5%8E%9F%E5%9E%8B%E9%93%BE/" title="JavaScript原型原型链">
                        <span class="hidden-mobile">JavaScript原型原型链</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
